{"version":3,"file":"impulse-ml.js","mappings":"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","sources":["webpack://impulse-math-device-ts/./build/Release/node_native_memory.node","webpack://impulse-math-device-ts/external node-commonjs \"path\"","webpack://impulse-math-device-ts/webpack/bootstrap","webpack://impulse-math-device-ts/webpack/runtime/compat get default export","webpack://impulse-math-device-ts/webpack/runtime/define property getters","webpack://impulse-math-device-ts/webpack/runtime/hasOwnProperty shorthand","webpack://impulse-math-device-ts/webpack/runtime/make namespace object","webpack://impulse-math-device-ts/webpack/runtime/node module decorator","webpack://impulse-math-device-ts/webpack/runtime/publicPath","webpack://impulse-math-device-ts/./src/typescript/Math/Computation/utils.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Calc.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcElement.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcScalar.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcColVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcRowVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix2D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix3D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/index.ts","webpack://impulse-math-device-ts/external node-commonjs \"fs\"","webpack://impulse-math-device-ts/./src/typescript/Network/Network.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/Backpropagation1Dto1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/AbstractBackpropagation.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/BackpropagationFactory.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/AbstractNetworkBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/types.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Softmax.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Logistic.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Tanh.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Relu.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/NetworkBuilder1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/AbstractOptimizer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdam.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerGradientDescent.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdagrad.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerMomentum.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerRMSProp.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/BatchTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/AbstractTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/AbstractCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/MeanSquaredErrorCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/CrossEntropyCost.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Dataset.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/DatasetVocabulary.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetVocabularyBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/AbstractSource.ts","webpack://impulse-math-device-ts/external commonjs2 \"csvtojson\"","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/SourceCSV.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/TextFile.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/AbstractVocabularySource.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/AbstractModifier.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Callback.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MinMaxScaling.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MissingData.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Shuffle.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Category.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Split.ts","webpack://impulse-math-device-ts/./src/typescript/main.ts"],"sourcesContent":["\ntry {\n  process.dlopen(module, require(\"path\").join(__dirname, __webpack_public_path__, \"8c0d713d94b87197578f9913475daeeb.node\"));\n} catch (error) {\n  throw new Error('node-loader:\\n' + error);\n}\n","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","import nodenative from \"../../../../build/Release/node_native_memory.node\";\n\ntype Device = any;\n\nlet currentDevice: Device = new nodenative.Device.CPU();\n\nexport const setDevice = (device: Device): void => {\n  currentDevice = device;\n};\n\nexport const getDevice = (): Device => {\n  return currentDevice;\n};\n","import { CalcElement } from \"./CalcElement\";\nimport { getDevice } from \"./Computation\";\n\nexport class Calc {\n  private _result: Array<CalcElement> | null = null;\n  private _params: Array<CalcElement> | null = null;\n\n  public static get() {\n    return new Calc();\n  }\n\n  public setResult(result: Array<CalcElement>) {\n    this._result = result;\n    return this;\n  }\n\n  public setParams(params: Array<CalcElement>) {\n    this._params = params;\n    return this;\n  }\n\n  public execSync(module: string, kernel: string) {\n    this.exec(module, kernel)(this._params, this._result);\n    return this;\n  }\n\n  /**\n   * Note: This function is not truly asynchronous. The underlying native addon\n   * does not support asynchronous execution.\n   */\n  public execAsync(module: string, kernel: string): Promise<Calc> {\n    return new Promise((resolve) => {\n      this.exec(\n        module,\n        kernel,\n        true\n      )(this._params, this._result).then(() => {\n        resolve(this);\n      });\n    });\n  }\n\n  private exec(module: string, kernel: string, async = false) {\n    try {\n      const device = getDevice();\n      const m = device.loadModule(module);\n      const fn = m.loadFunction(kernel);\n\n      return (input: Array<CalcElement> | null = null, output: Array<CalcElement> | null = null) => {\n        return fn.execute(\n          (input || []).map((m) => m.getMemory()),\n          (output || []).map((m) => m.getMemory()),\n          async\n        );\n      };\n    } catch (e) {\n      console.error(e);\n      return () => {};\n    }\n  }\n}\n","import { getDevice } from \"./Computation\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { Calc } from \"./Calc\";\n\nexport class CalcElement {\n  private _dims: Array<number> = [];\n  protected _allocated = false;\n  protected _memory: any = null;\n\n  constructor(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n  }\n\n  public dims(): Array<number> {\n    return this._dims;\n  }\n\n  public rows(): number {\n    return this._dims[0];\n  }\n\n  public cols(): number {\n    return this._dims[1];\n  }\n\n  public depth(): number {\n    return this._dims[2];\n  }\n\n  public count(): number {\n    const [width, height, depth] = this._dims;\n\n    return width * height * depth;\n  }\n\n  public resize(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n    this.allocate();\n    return this;\n  }\n\n  public allocate() {\n    const device = getDevice();\n    this._memory = device.alloc(this.count());\n    this._memory.setWidth(this.rows());\n    this._memory.setHeight(this.cols());\n    this._memory.setDepth(this.depth());\n    this._allocated = true;\n\n    return this;\n  }\n\n  public set(arr: Array<number>) {\n    this._memory.set(new Float64Array(arr));\n    return this;\n  }\n\n  public get() {\n    return this._memory.get();\n  }\n\n  public isScalar() {\n    return false;\n  }\n\n  public isRowVector() {\n    return false;\n  }\n\n  public isColVector() {\n    return false;\n  }\n\n  public isMatrix2D() {\n    return false;\n  }\n\n  public isMatrix3D() {\n    return false;\n  }\n\n  public setZeros() {\n    this.calcSync((calc) => {\n      calc.setZeros();\n    });\n    return this;\n  }\n\n  public setRandom(number: number) {\n    this.calcSync((calc) => {\n      calc.setRandom(number);\n    });\n    return this;\n  }\n\n  public setMax(number: number) {\n    this.calcSync((calc) => {\n      calc.setMax(number);\n    });\n    return this;\n  }\n\n  public setMin(number: number) {\n    this.calcSync((calc) => {\n      calc.setMin(number);\n    });\n    return this;\n  }\n\n  public reluBackpropagation(number: number) {\n    this.calcSync((calc) => {\n      calc.reluBackpropagation();\n    });\n    return this;\n  }\n  public pow(number: number) {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n  public sum() {\n    return this.calcSync((calc) => {\n      return calc.sum();\n    });\n  }\n  public reluForwardPropagation() {\n    this.calcSync((calc) => {\n      calc.reluForwardPropagation();\n    });\n    return this;\n  }\n\n  private getCalcSandbox(async = false) {\n    const that = this;\n    return {\n      sum: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"algebra\", \"algebra_sum\", async)([that, result])(result);\n      },\n      setZeros: () => {\n        return that._call(\"matrix\", \"matrix_set_zeros\", async)([that])(that);\n      },\n      setRandom: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        return that._call(\"matrix\", \"matrix_set_random\", async)([that, nb])(that);\n      },\n    };\n  }\n\n  protected _call(module: string, kernel: string, async: boolean) {\n    return (params, result) => {\n      const calc = Calc.get().setResult(result).setParams(params);\n      return (result) => {\n        if (async) {\n          return new Promise((resolve) => {\n            calc.execAsync(module, kernel).then(() => {\n              resolve(result);\n            });\n          });\n        } else {\n          calc.execSync(module, kernel);\n          return result;\n        }\n      };\n    };\n  }\n\n  public calcSync(callback) {\n    return callback(this.getCalcSandbox(false));\n  }\n\n  public calcAsync(callback) {\n    return new Promise((resolve, reject) => {\n      try {\n        const result = callback(this.getCalcSandbox(true));\n        resolve(result);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  public getMemory() {\n    return this._memory;\n  }\n\n  [Symbol.dispose]() {\n    this._memory.free();\n  }\n\n  public destroy() {\n    this._memory.free();\n    this._dims = [0, 0, 0];\n    this._allocated = false;\n  }\n\n  public copyFrom(other: CalcElement) {\n    if (!this._allocated) {\n      const device = getDevice();\n      this._memory = device.alloc(other.count());\n      this._allocated = true;\n    }\n    this._memory.setWidth(other.rows());\n    this._memory.setHeight(other.cols());\n    this._memory.setDepth(other.depth());\n    this._memory.copyFrom(other.getMemory());\n    this._dims = other.dims();\n    return this;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcScalar extends CalcElement {\n  constructor() {\n    super(1);\n  }\n\n  public isScalar() {\n    return true;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcColVector extends CalcElement {\n  constructor(cols = 1) {\n    super(1, cols);\n  }\n\n  public isColVector() {\n    return true;\n  }\n\n  public static fromMemory(memory, cols: number) {\n    const result = new CalcColVector(cols);\n    result._memory = memory;\n    result._allocated = true;\n    return result;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcColVector } from \"./CalcColVector\";\n\nexport class CalcRowVector extends CalcElement {\n  constructor(rows = 1) {\n    super(rows);\n  }\n\n  public isRowVector() {\n    return true;\n  }\n\n  public transpose() {\n    const result = CalcColVector.fromMemory(this.getMemory().clone(), this.rows());\n    return result;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcScalar } from \"./CalcScalar\";\n\nexport class CalcMatrix2D extends CalcElement {\n  constructor(rows = 1, cols = 1) {\n    super(rows, cols);\n  }\n\n  public isMatrix2D() {\n    return true;\n  }\n\n  public row(index: Number): CalcMatrix2D {\n    const result = new CalcMatrix2D(1, this.cols()).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_row\",\n      false\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public col(index: Number): CalcMatrix2D {\n    const result = new CalcMatrix2D(this.rows(), 1).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_col\",\n      false\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public maxCoeff(): number {\n    return this.calcSync((calc) => {\n      return calc.maxCoeff();\n    });\n  }\n\n  public dot(m: CalcMatrix2D) {\n    return this.calcSync((calc) => {\n      return calc.dot(m);\n    });\n  }\n\n  public add(m: CalcMatrix2D) {\n    return this.calcSync((calc) => {\n      return calc.add(m);\n    });\n  }\n\n  public replicate(rows: number, cols: number) {\n    return this.calcSync((calc) => {\n      return calc.replicate(rows, cols);\n    });\n  }\n\n  public transpose(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.transpose();\n    });\n  }\n\n  public logisticForwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticForwardPropagation();\n    });\n  }\n\n  public logisticBackwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticBackwardPropagation();\n    });\n  }\n\n  public pow(number: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n\n  public log(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.log();\n    });\n  }\n\n  public multiply(number: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.multiply(number);\n    });\n  }\n  public minusOne(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.minusOne();\n    });\n  }\n  public conjugate(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.conjugate();\n    });\n  }\n  public divide(mOrNumber: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.divide(mOrNumber);\n    });\n  }\n  public subtract(m: CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.subtract(m);\n    });\n  }\n  public rowwiseSum(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.rowwiseSum();\n    });\n  }\n  public softmax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmax();\n    });\n  }\n  public fraction(num: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.fraction(num);\n    });\n  }\n  public tanh(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanh();\n    });\n  }\n  public tanhDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanhDerivative();\n    });\n  }\n  public logMinusOne(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logMinusOne();\n    });\n  }\n  public sqrt(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.sqrt();\n    });\n  }\n  public block(offset: number, batch: number, start: number, end: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.block(offset, batch, start, end);\n    });\n  }\n  public softmaxDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmaxDerivative();\n    });\n  }\n  public min(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.min();\n    });\n  }\n  public max(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.max();\n    });\n  }\n  public minMax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.minMax();\n    });\n  }\n\n  protected getCalcSandbox(async = false) {\n    const baseSandbox = super.getCalcSandbox(async);\n    const that = this;\n    return {\n      ...baseSandbox,\n      block(offset: number, batch: number, start: number, end: number): CalcMatrix2D {\n        const result = new CalcMatrix2D(end - start, batch).allocate();\n        const _offset = new CalcScalar().allocate().set([offset]);\n        const _batch = new CalcScalar().allocate().set([batch]);\n        const _start = new CalcScalar().allocate().set([start]);\n        const _end = new CalcScalar().allocate().set([end]);\n        return that._call(\"matrix\", \"matrix_block\", async)([that, _offset, _batch, _start, _end, result])(result);\n      },\n      pow: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_pow\", async)([that, new CalcScalar().allocate().set([number]), result])(\n          result\n        );\n      },\n      fraction: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_fraction\",\n          async\n        )([that, new CalcScalar().allocate().set([number]), result])(result);\n      },\n      softmax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax\", async)([that, result])(result);\n      },\n      sqrt: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_sqrt\", async)([that, result])(result);\n      },\n      tanh: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh\", async)([that, result])(result);\n      },\n      tanhDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh_derivative\", async)([that, result])(result);\n      },\n      softmaxDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax_derivative\", async)([that, result])(result);\n      },\n      rowwiseSum: () => {\n        const result = new CalcMatrix2D(this.rows(), 1).allocate();\n        return that._call(\"algebra\", \"algebra_rowwise_sum\", async)([that, result])(result);\n      },\n      multiply: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const _m = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply_number\", async)([that, _m, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply\", async)([that, m, result])(result);\n        }\n      },\n      log: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_log\", async)([that, result])(result);\n      },\n      divide: (mOrNumber: number | CalcMatrix2D) => {\n        if (typeof mOrNumber === \"number\") {\n          const num = new CalcScalar().allocate().set([mOrNumber]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_number\", async)([that, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_matrix\", async)([that, mOrNumber, result])(result);\n        }\n      },\n      dot: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), m.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_dot\", async)([that, m, result])(result);\n      },\n      add: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const num = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_number\", async)([that, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_matrix\", async)([that, m, result])(result);\n        }\n      },\n      subtract: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_subtract\", async)([that, m, result])(result);\n      },\n      transpose: () => {\n        const result = new CalcMatrix2D(this.cols(), this.rows()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"matrix\", \"matrix_transpose\", async)([that, result])(result);\n      },\n      logMinusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_log_minus_one\", async)([that, result])(result);\n      },\n      minusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_minus_one\", async)([that, result])(result);\n      },\n      replicate: (rows: number, cols: number) => {\n        const _rows = this.rows() * rows;\n        const _cols = this.cols() * cols;\n        const result = new CalcMatrix2D(_rows, _cols).allocate();\n        const __rows = new CalcScalar().allocate().set([rows]);\n        const __cols = new CalcScalar().allocate().set([cols]);\n        return that._call(\"algebra\", \"algebra_replicate_matrix\", async)([that, __rows, __cols, result])(result);\n      },\n      logisticForwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_forward_propagation\", async)([that, result])(result);\n      },\n      conjugate: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_conjugate\", async)([that, result])(result);\n      },\n      logisticBackwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_backward_propagation\", async)([that, result])(result);\n      },\n      reluBackpropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_reluBackpropagation\", async)([that, result])(result);\n      },\n      maxCoeff: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"algebra\", \"algebra_max_coeff\", async)([that, result])(result);\n      },\n      setMin: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_min\", async)([that, nb, result])(result);\n      },\n      setMax: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_max\", async)([that, nb, result])(result);\n      },\n      min: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_min\", async)([that, result])(result);\n      },\n      max: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_max\", async)([that, result])(result);\n      },\n      minMax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_min_max\", async)([that, result])(result);\n      },\n      img2col: (filterSize, stride, padding) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        const params = new CalcRowVector(3).allocate().set([filterSize, stride, padding]);\n        return that._call(\"algebra\", \"algebra_img2col\", async)([that, params, result])(result);\n      },\n    };\n  }\n\n  public clone() {\n    const clone = new CalcMatrix2D(this.rows(), this.cols());\n    clone.copyFrom(this);\n    return clone;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcMatrix3D extends CalcElement {\n  constructor(rows = 1, cols = 1, depth = 1) {\n    super(rows, cols, depth);\n  }\n\n  public isMatrix3D() {\n    return true;\n  }\n}\n","import { Calc } from \"./Calc\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { CalcColVector } from \"./CalcColVector\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcMatrix2D } from \"./CalcMatrix2D\";\nimport { CalcMatrix3D } from \"./CalcMatrix3D\";\n\nconst round = (num: number, decimalPlaces: number): number => {\n  return Math.round((num + 2.23e-16) * Math.pow(10, decimalPlaces)) / Math.pow(10, decimalPlaces);\n};\n\nexport { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\nexport default { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"fs\");","import { Dimension, Layers } from \"../types\";\nimport { CalcMatrix2D } from \"../Math\";\nimport * as fs from \"fs\";\n\nclass Network {\n  private readonly dimensions: Dimension | null = null;\n  private size = 0;\n  private layers: Layers[] = [];\n\n  constructor(dimensions: Dimension) {\n    this.dimensions = dimensions;\n  }\n\n  addLayer(layer: Layers): Network {\n    this.size++;\n    this.layers.push(layer);\n\n    return this;\n  }\n\n  getLayers(): Layers[] {\n    return this.layers;\n  }\n\n  getLastLayer(): Layers {\n    return this.layers[this.layers.length - 1];\n  }\n\n  forward(input: CalcMatrix2D): CalcMatrix2D {\n    let output = input;\n\n    this.layers.forEach((layer: Layers) => {\n      output = layer.forward(output);\n    });\n\n    return output;\n  }\n\n  forwardAsync(input: CalcMatrix2D): Promise<CalcMatrix2D> {\n    return new Promise((resolve) => {\n      let output = input.clone();\n      let l = 0;\n      const next = () => {\n        return this.layers[l].forwardAsync(output).then((out) => {\n          output.destroy();\n          output = out;\n          if (l < this.layers.length - 1) {\n            l++;\n            next();\n          } else {\n            resolve(output);\n          }\n        });\n      };\n\n      next();\n    });\n  }\n\n  backward(X: CalcMatrix2D, regularization: number, sigma: CalcMatrix2D): void {\n    const m = X.cols();\n    let currentSigma = sigma;\n\n    for (let i = this.layers.length - 1; i >= 0; i -= 1) {\n      const layer = this.layers[i];\n      currentSigma = layer.getBackPropagation().propagate(X, m, regularization, layer, currentSigma);\n    }\n  }\n\n  save(path: string): Promise<string> {\n    const resultJSON = {\n      dimensions: this.dimensions,\n      layers: [],\n    };\n\n    this.layers.forEach((layer: Layers) => {\n      resultJSON.layers.push({\n        type: layer.getType(),\n        size: layer.getSize(),\n        weights: {\n          W: layer.W.get(),\n          b: layer.b.get(),\n        },\n      });\n    });\n\n    const result = JSON.stringify(resultJSON);\n\n    return new Promise((resolve, reject) => {\n      fs.writeFile(path, result, (err) => {\n        if (err) {\n          console.error(err);\n          reject();\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n\nexport { Network };\nexport default Network;\n","import { AbstractBackPropagation } from \"./AbstractBackpropagation\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { Layers } from \"../../../types\";\n\nexport class Backpropagation1Dto1D extends AbstractBackPropagation {\n  propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D\n  ): CalcMatrix2D {\n    const previousActivations = this.previousLayer !== null ? this.previousLayer.A : input;\n    const delta = sigma.dot(previousActivations.transpose().conjugate());\n    this.layer.gW = delta.divide(numberOfExamples).add(layer.W.multiply(regularization / numberOfExamples));\n    this.layer.gb = sigma.rowwiseSum().divide(numberOfExamples);\n\n    if (this.previousLayer !== null) {\n      // @ts-ignore\n      const result = this.layer.W.transpose().dot(sigma);\n      if (result.rows() !== previousActivations.rows() || result.cols() !== previousActivations.cols()) {\n        throw new Error(\n          `Dimension error 1. (${result.rows()}, ${result.cols()}) | (${previousActivations.rows()}, ${previousActivations.cols()})`\n        );\n      }\n      if (this.layer.gW.rows() !== this.layer.W.rows() || this.layer.gW.cols() !== this.layer.W.cols()) {\n        throw new Error(\n          `Dimension error 2. (${this.layer.gW.rows()}, ${this.layer.gW.cols()}) | (${this.layer.W.rows()}, ${this.layer.W.cols()})`\n        );\n      }\n      if (this.layer.gb.rows() !== this.layer.b.rows() || this.layer.gb.cols() !== this.layer.b.cols()) {\n        throw new Error(\n          `Dimension error 3. (${this.layer.gb.rows()}, ${this.layer.gb.cols()}) | (${this.layer.b.rows()}, ${this.layer.b.cols()})`\n        );\n      }\n      return result.multiply(this.layer.previousLayer.derivative(this.layer.previousLayer.A));\n    }\n    return new CalcMatrix2D();\n  }\n}\n","import { Layers } from \"../../../types\";\nimport { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractBackPropagation {\n  protected layer: Layers | null = null;\n  protected previousLayer: Layers | null = null;\n\n  constructor(layer: Layers | null, previousLayer: Layers) {\n    this.layer = layer;\n    this.previousLayer = previousLayer;\n  }\n\n  abstract propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D,\n    previousSigma: CalcMatrix2D\n  ): CalcMatrix2D;\n}\n","import { Layers, LayerType } from \"../../../types\";\nimport { Backpropagation1Dto1D } from \"./Backpropagation1Dto1D\";\nimport { AbstractBackPropagation } from \"./AbstractBackpropagation\";\n\nexport class BackpropagationFactory {\n  static create(previousLayer: Layers, layer: Layers): AbstractBackPropagation | null {\n    if (previousLayer) {\n      if (previousLayer.is1D()) {\n        return new Backpropagation1Dto1D(layer, previousLayer);\n      }\n    }\n    else {\n      if (layer.is1D()) {\n        return new Backpropagation1Dto1D(layer, previousLayer);\n      }\n    }\n\n    return null;\n  }\n}\n","import { Dimension, Layers } from \"../../types\";\nimport { Network, Networks } from \"../index\";\nimport { BackpropagationFactory } from \"../Layer/Backpropagation/BackpropagationFactory\";\n\nabstract class AbstractNetworkBuilder {\n  protected dimensions: Dimension | null = null;\n  protected lastLayer: Layers | null = null;\n  protected network: Networks | null = null;\n\n  constructor(dimension: Dimension, type = \"DNN\") {\n    this.dimensions = dimension;\n    this.network = new Network(this.dimensions);\n  }\n\n  createLayer(layerClass: Layers, callback: (layer: Layers) => void | null = null): AbstractNetworkBuilder {\n    const layer: Layers = new layerClass();\n\n    if (typeof callback === \"function\") {\n      callback(layer);\n    }\n\n    if (this.lastLayer === null) {\n      this.firstLayerTransition(layer);\n    } else {\n      layer.transition(this.lastLayer);\n    }\n\n    layer.configure();\n    layer.setBackPropagation(BackpropagationFactory.create(this.lastLayer, layer));\n\n    this.network.addLayer(layer);\n    this.lastLayer = layer;\n\n    return this;\n  }\n\n  getNetwork(): Networks | null {\n    return this.network;\n  }\n\n  abstract firstLayerTransition(layer: Layers): void;\n}\n\nexport { AbstractNetworkBuilder };\n","import { SoftmaxLayer, LogisticLayer, TanhLayer, ReluLayer } from \"./Network/Layer\";\nimport { AbstractLayer1D } from \"./Network/Layer/AbstractLayer1D\";\n\nexport type Dimension = [number] | [number, number, number];\n\nexport enum LayerType {\n  logistic = \"logistic\",\n  softmax = \"softmax\",\n  tanh = \"tanh\",\n  relu = \"relu\",\n  softplus = \"softplus\",\n  conv = \"conv\",\n  lstm = \"lstm\",\n}\n\nexport type Layers =\n  | LogisticLayer\n  | SoftmaxLayer\n  | TanhLayer\n  | ReluLayer\n  | AbstractLayer1D;\nexport type Layers1D = LogisticLayer | SoftmaxLayer | TanhLayer | ReluLayer;\n","import { AbstractLayer } from \"./AbstractLayer\";\nimport { Layers } from \"../../types\";\nimport { CalcMatrix2D, CalcScalar } from \"../../Math\";\n\nabstract class AbstractLayer1D extends AbstractLayer {\n  protected depth = 1;\n  public W: CalcMatrix2D;\n  public b: CalcMatrix2D;\n  public A: CalcMatrix2D;\n  public Z: CalcMatrix2D;\n  public gW: CalcMatrix2D;\n  public gb: CalcMatrix2D;\n  public vW: CalcMatrix2D;\n  public sW: CalcMatrix2D;\n  public vb: CalcMatrix2D;\n  public sb: CalcMatrix2D;\n  public dW: CalcMatrix2D;\n  public db: CalcMatrix2D;\n  public dZ: CalcMatrix2D;\n\n  constructor() {\n    super();\n    this.W = new CalcMatrix2D();\n    this.b = new CalcMatrix2D();\n    this.A = new CalcMatrix2D();\n    this.Z = new CalcMatrix2D();\n    this.gW = new CalcMatrix2D();\n    this.gb = new CalcMatrix2D();\n    this.vW = new CalcMatrix2D();\n    this.vb = new CalcMatrix2D();\n    this.sW = new CalcMatrix2D();\n    this.sb = new CalcMatrix2D();\n    this.dW = new CalcMatrix2D();\n    this.db = new CalcMatrix2D();\n  }\n\n  configure(): void {\n    this.W.resize(this.getHeight(), this.getWidth());\n    this.W.setRandom(this.previousLayer ? (this.previousLayer.getHeight() as number) : this.getHeight());\n\n    this.b.resize(this.getHeight(), 1);\n    this.b.setRandom(this.previousLayer ? (this.previousLayer.getHeight() as number) : this.getHeight());\n\n    this.gW.resize(this.getHeight(), this.getWidth());\n    this.gW.setZeros();\n\n    this.gb.resize(this.getHeight(), 1);\n    this.gb.setZeros();\n\n    this.sW.resize(this.getHeight(), this.getWidth());\n    this.sW.setZeros();\n\n    this.sb.resize(this.getHeight(), 1);\n    this.sb.setZeros();\n\n    this.vW.resize(this.getHeight(), this.getWidth());\n    this.vW.setZeros();\n\n    this.vb.resize(this.getHeight(), 1);\n    this.vb.setZeros();\n\n    this.dW.resize(this.getHeight(), this.getWidth());\n    this.dW.setZeros();\n\n    this.db.resize(this.getHeight(), 1);\n    this.db.setZeros();\n  }\n\n  forward(input: CalcMatrix2D): Promise<CalcMatrix2D> {\n    this.Z = this.W.dot(input).add(this.b.replicate(1, input.cols()));\n    this.A = this.activation(this.Z);\n    return this.A;\n  }\n  is1D(): boolean {\n    return true;\n  }\n\n  is3D(): boolean {\n    return false;\n  }\n\n  transition(previousLayer: Layers): AbstractLayer1D {\n    if (previousLayer.is1D()) {\n      this.setWidth(previousLayer.getSize() as number);\n    } else if (previousLayer.is3D()) {\n      this.setWidth(previousLayer.getOutputWidth() * previousLayer.getOutputHeight() * previousLayer.getOutputDepth());\n    }\n\n    super.transition(previousLayer);\n\n    return this;\n  }\n\n  setSize(value: number): AbstractLayer1D {\n    this.setHeight(value as number);\n\n    return this;\n  }\n\n  getSize(): number {\n    return this.height;\n  }\n\n  getOutputWidth(): number {\n    return this.width;\n  }\n\n  getOutputHeight(): number {\n    return this.height;\n  }\n\n  getOutputDepth(): number {\n    return 1;\n  }\n\n  penalty(): CalcScalar {\n    return this.W.pow(2).sum();\n  }\n}\n\nexport { AbstractLayer1D };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { Dimension, Layers } from \"../../types\";\nimport { AbstractBackPropagation } from \"./Backpropagation/AbstractBackpropagation\";\n\nabstract class AbstractLayer {\n  protected width = 0;\n  protected height = 0;\n  protected depth = 0;\n  public previousLayer: Layers | null = null;\n  protected backPropagation: AbstractBackPropagation | null = null;\n\n  setBackPropagation(backPropagation: AbstractBackPropagation): Layers {\n    this.backPropagation = backPropagation;\n    return this;\n  }\n\n  getBackPropagation(): AbstractBackPropagation | null {\n    return this.backPropagation;\n  }\n\n  setWidth(value: number): Layers {\n    this.width = value;\n    return this;\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  setHeight(value: number): Layers {\n    this.height = value;\n    return this;\n  }\n\n  getHeight(): number {\n    return this.height;\n  }\n\n  setDepth(value: number): Layers {\n    this.depth = value;\n    return this;\n  }\n\n  getDepth(): number {\n    return this.depth;\n  }\n\n  abstract getOutputWidth(): number;\n\n  abstract getOutputHeight(): number;\n\n  abstract getOutputDepth(): number;\n\n  abstract configure(): void;\n\n  abstract is1D(): boolean;\n\n  abstract is3D(): boolean;\n\n  transition(previousLayer: Layers): Layers {\n    this.previousLayer = previousLayer;\n    return this;\n  }\n\n  abstract getSize(): Dimension | number;\n\n  abstract activation(value: CalcMatrix2D): CalcMatrix2D;\n\n  abstract activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D>;\n\n  abstract getType(): string;\n\n  abstract derivative(delta: CalcMatrix2D): CalcMatrix2D;\n\n  abstract penalty(): number;\n}\n\nexport { AbstractLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass SoftmaxLayer extends AbstractLayer1D {\n  activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D> {\n    throw new Error(\"Method not implemented.\");\n  }\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.softmax();\n  }\n\n  getType(): LayerType {\n    return LayerType.softmax;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    return delta.softmaxDerivative();\n  }\n}\n\nexport { SoftmaxLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass LogisticLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.logisticForwardPropagation();\n  }\n\n  getType(): LayerType {\n    return LayerType.logistic;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    return delta.logisticBackwardPropagation();\n  }\n}\n\nexport { LogisticLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass TanhLayer extends AbstractLayer1D {\n  activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D> {\n    throw new Error(\"Method not implemented.\");\n  }\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.tanh();\n  }\n\n  getType(): LayerType {\n    return LayerType.tanh;\n  }\n\n  derivative(sigma: CalcMatrix2D): CalcMatrix2D {\n    return sigma.tanhDerivative();\n  }\n}\n\nexport { TanhLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass ReluLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.setMin(0.0);\n  }\n\n  getType(): LayerType {\n    return LayerType.relu;\n  }\n\n  derivative(delta: CalcMatrix2D) {\n    return delta.reluBackpropagation();\n  }\n}\n\nexport { ReluLayer };\n","import { AbstractNetworkBuilder } from \"./AbstractNetworkBuilder\";\nimport { Layers } from \"../../types\";\nimport { Network } from \"../index\";\nimport * as fs from \"fs\";\nimport { LogisticLayer, ReluLayer, SoftmaxLayer, TanhLayer } from \"../Layer\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { JSONLayerData } from \"./types\";\n\nclass NetworkBuilder1D extends AbstractNetworkBuilder {\n  firstLayerTransition(layer: Layers): void {\n    layer.setWidth(this.dimensions[0]);\n  }\n\n  static fromJSON(jsonPath: string): Promise<Network> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(jsonPath, (err, data) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        const json = JSON.parse(data.toString());\n\n        const builder = new NetworkBuilder1D(json[\"dimensions\"]);\n\n        json[\"layers\"].forEach((layerData: JSONLayerData) => {\n          let layerClass = null;\n\n          if (layerData[\"type\"] === \"logistic\") {\n            layerClass = LogisticLayer;\n          } else if (layerData[\"type\"] === \"softmax\") {\n            layerClass = SoftmaxLayer;\n          } else if (layerData[\"type\"] === \"relu\") {\n            layerClass = ReluLayer;\n          } else if (layerData[\"type\"] === \"tanh\") {\n            layerClass = TanhLayer;\n          }\n\n          builder.createLayer(layerClass, (layer) => {\n            // @ts-ignore\n            layer.setSize(layerData[\"size\"] as number);\n          });\n        });\n\n        const network = builder.getNetwork();\n\n        network.getLayers().forEach((layer, i) => {\n          layer.W = new CalcMatrix2D(\n            json[\"layers\"][i][\"weights\"][\"W\"].length,\n            json[\"layers\"][i][\"weights\"][\"W\"][0].length,\n            json[\"layers\"][i][\"weights\"][\"W\"]\n          );\n          layer.b = new CalcMatrix2D(\n            json[\"layers\"][i][\"weights\"][\"b\"].length,\n            json[\"layers\"][i][\"weights\"][\"b\"][0].length,\n            json[\"layers\"][i][\"weights\"][\"b\"]\n          );\n        });\n\n        resolve(network);\n      });\n    });\n  }\n}\n\nexport { NetworkBuilder1D };\n","import { Layers } from \"../../../types\";\n\nexport abstract class AbstractOptimizer {\n  protected batchSize = 0;\n  protected t = 0;\n  protected learningRate = 0;\n\n  setBatchSize(batchSize: number): AbstractOptimizer {\n    this.batchSize = batchSize;\n    return this;\n  }\n\n  setT(t: number): AbstractOptimizer {\n    this.t = t;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractOptimizer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  abstract optimize(layer: Layers): void;\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerAdam extends AbstractOptimizer {\n  protected beta1 = 0.9;\n  protected beta2 = 0.999;\n\n  setBeta1(beta1: number): OptimizerAdam {\n    this.beta1 = beta1;\n    return this;\n  }\n\n  setBeta2(beta2: number): OptimizerAdam {\n    this.beta2 = beta2;\n    return this;\n  }\n\n  optimize(layer: Layers): void {\n    this.adam(layer, this.learningRate, this.t);\n  }\n\n  adam(layer: Layers, learningRate: number, t: number): void {\n    layer.vW = layer.vW.multiply(this.beta1).add(layer.gW.multiply(1 - this.beta1));\n    layer.vb = layer.vb.multiply(this.beta1).add(layer.gb.multiply(1 - this.beta1));\n\n    layer.sW = layer.sW.multiply(this.beta2).add(layer.sW.pow(2).multiply(1 - this.beta2));\n    layer.sb = layer.sb.multiply(this.beta2).add(layer.sb.pow(2).multiply(1 - this.beta2));\n\n    const vWCorrected = layer.vW.divide(1 - Math.pow(this.beta1, 2));\n    const vbCorrected = layer.vb.divide(1 - Math.pow(this.beta1, 2));\n\n    const sWCorrected = layer.sW.add(1e-8).sqrt();\n    const sbCorrected = layer.sb.add(1e-8).sqrt();\n\n    layer.W = layer.W.subtract(vWCorrected.divide(sWCorrected).multiply(learningRate));\n    layer.b = layer.b.subtract(vbCorrected.divide(sbCorrected).multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerGradientDescent extends AbstractOptimizer {\n  optimize(layer: Layers): void {\n    this.gradientDescent(layer, this.learningRate);\n  }\n\n  gradientDescent(layer: Layers, learningRate: number): void {\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.b.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerAdagrad extends AbstractOptimizer {\n  private epsilon = 1e-8;\n\n  optimize(layer: Layers): void {\n    this.adagrad(layer, this.learningRate);\n  }\n\n  adagrad(layer: Layers, learningRate: number): void {\n    layer.dW = layer.dW.add(layer.gW.pow(2));\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate).divide(layer.dW.add(this.epsilon).sqrt()));\n\n    layer.db = layer.db.add(layer.gb.pow(2));\n    layer.b = layer.b.subtract(layer.gb.multiply(learningRate).divide(layer.db.add(this.epsilon).sqrt()));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerMomentum extends AbstractOptimizer {\n  protected beta = 0.9;\n\n  optimize(layer: Layers): void {\n    this.momentum(layer, this.learningRate);\n  }\n\n  setBeta(beta: number): OptimizerMomentum {\n    this.beta = beta;\n    return this;\n  }\n\n  momentum(layer: Layers, learningRate: number): void {\n    layer.vW = layer.gW.multiply(this.beta).add(layer.gW.multiply(1 - this.beta));\n    layer.vb = layer.gb.multiply(this.beta).add(layer.gb.multiply(1 - this.beta));\n\n    layer.W = layer.W.subtract(layer.vW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.vb.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerRMSProp extends AbstractOptimizer {\n  protected alpha = 1e-3;\n  protected beta = 0.9;\n\n  setBeta(beta: number): OptimizerRMSProp {\n    this.beta = beta;\n    return this;\n  }\n\n  setAlpha(alpha: number): OptimizerRMSProp {\n    this.alpha = alpha;\n    return this;\n  }\n\n  optimize(layer: Layers): void {\n    this.rmsprop(layer, this.learningRate, this.alpha, this.beta);\n  }\n\n  rmsprop(layer: Layers, learningRate: number, alpha: number, beta: number): void {\n    layer.sW = layer.sW.multiply(beta).add(layer.gW.pow(2).multiply(1 - beta));\n    layer.sb = layer.sb.multiply(beta).add(layer.gb.pow(2).multiply(1 - beta));\n\n    layer.W = layer.W.subtract(layer.gW.multiply(alpha).divide(layer.sW.sqrt().add(1e-8)));\n    layer.b = layer.b.subtract(layer.gb.multiply(alpha).divide(layer.sb.sqrt().add(1e-8)));\n  }\n}\n","import { BatchTrainer } from \"./BatchTrainer\";\n\nexport { BatchTrainer };\nexport default { BatchTrainer };","import { AbstractTrainer } from \"./AbstractTrainer\";\nimport { Dataset } from \"../../Dataset\";\nimport { round } from \"../../Math\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Network } from \"../index\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport class BatchTrainer extends AbstractTrainer {\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    super(network, optimizer, costFunction);\n  }\n\n  train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer {\n    const numberOfExamples = inputDataset.getNumberOfExamples();\n    const X = inputDataset.data.transpose();\n    const Y = outputDataset.data.transpose();\n\n    let t = 0;\n\n    this.optimizer.setBatchSize(numberOfExamples);\n    this.optimizer.setLearningRate(this.learningRate);\n\n    for (let i = 0; i < this.iterations; i += 1) {\n      const startTime = new Date().getTime();\n\n      const predictions = this.network.forward(X);\n\n      const sigma = this.costFunction.derivative(Y, predictions, this.network.getLastLayer());\n\n      this.network.backward(X, this.regularization, sigma);\n\n      this.optimizer.setT(++t);\n\n      this.network.getLayers().forEach((layer) => {\n        this.optimizer.optimize(layer);\n      });\n\n      if (this.verbose && (i + 1) % this.verboseStep === 0) {\n        const currentResult = this.cost(predictions, Y);\n        const endTime = new Date().getTime();\n\n        console.log(\n          `Iteration: ${i + 1} | Cost: ${round(currentResult.cost, 5)} | Accuracy: ${round(\n            currentResult.accuracy,\n            2\n          )}% | Time: ${(endTime - startTime) / 1000} s.`\n        );\n      }\n\n      this.stepCallback({\n        iteration: i,\n      });\n    }\n\n    return this;\n  }\n}\n","import { Network } from \"../index\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Dataset } from \"../../Dataset\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport interface CostResult {\n  cost: number;\n  accuracy: number;\n}\n\nexport interface StepCallbackParameters {\n  iteration: number;\n}\n\nexport abstract class AbstractTrainer {\n  network: Network;\n  optimizer: AbstractOptimizer;\n  costFunction: AbstractCost;\n  regularization = 1e-4;\n  iterations = 1000;\n  learningRate = 0.001;\n  verbose = true;\n  verboseStep = 1;\n  stepCallback = (data: StepCallbackParameters): void => undefined;\n\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    this.network = network;\n    this.optimizer = optimizer;\n    this.costFunction = costFunction;\n  }\n\n  abstract train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer;\n\n  setRegularization(regularization: number): AbstractTrainer {\n    this.regularization = regularization;\n    return this;\n  }\n\n  setIterations(iterations: number): AbstractTrainer {\n    this.iterations = iterations;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractTrainer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  setVerbose(verbose: boolean): AbstractTrainer {\n    this.verbose = verbose;\n    return this;\n  }\n\n  setVerboseStep(verboseStep: number): AbstractTrainer {\n    this.verboseStep = verboseStep;\n    return this;\n  }\n\n  setStepCallback(stepCallback: (data: StepCallbackParameters) => void): AbstractTrainer {\n    this.stepCallback = stepCallback;\n    return this;\n  }\n\n  cost(predictions: CalcMatrix2D, correctOutput: CalcMatrix2D): CostResult {\n    const miniBatchSize = correctOutput.cols();\n    const dataLoss = this.costFunction.loss(correctOutput, predictions);\n\n    let regularizationPenalty = 0;\n    this.network.getLayers().forEach((layer) => {\n      regularizationPenalty += layer.penalty().get()[0];\n    });\n    const regularizationLoss = (this.regularization * regularizationPenalty) / (2.0 * miniBatchSize);\n\n    const cost = dataLoss + regularizationLoss;\n\n    let correctPredictions = 0;\n    for (let i = 0; i < miniBatchSize; i += 1) {\n      const predictionIndex = predictions.col(i).maxCoeff();\n      const outputIndex = correctOutput.col(i).maxCoeff();\n\n      if (predictionIndex.get()[0] === outputIndex.get()[0]) {\n        correctPredictions++;\n      }\n    }\n\n    const accuracy = (correctPredictions / miniBatchSize) * 100.0;\n\n    return {\n      cost,\n      accuracy,\n    };\n  }\n}\n","import { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractCost {\n  abstract loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number;\n  abstract derivative(\n    correctOutput: CalcMatrix2D,\n    predictions: CalcMatrix2D,\n    activationDerivative: CalcMatrix2D\n  ): CalcMatrix2D;\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { AbstractLayer } from \"../../Layer/AbstractLayer\";\n\nexport class MeanSquaredErrorCost extends AbstractCost {\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    const miniBatchSize = correctOutput.cols();\n    const error = predictions.subtract(correctOutput);\n    const cost = error.pow(2).sum().get()[0];\n    return cost / (2 * miniBatchSize);\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    const dA = predictions.subtract(correctOutput);\n    return dA.multiply(lastLayer.derivative(predictions));\n  }\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { LayerType } from \"../../../types\";\nimport { AbstractLayer } from \"../../Layer/AbstractLayer\";\n\nexport class CrossEntropyCost extends AbstractCost {\n  private readonly epsilon = 1e-8;\n\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    const miniBatchSize = correctOutput.cols();\n    const logPredictions = predictions.add(this.epsilon).log();\n    const cost = correctOutput.multiply(logPredictions).sum().get()[0];\n    return -cost / miniBatchSize;\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    if (lastLayer.getType() === LayerType.softmax) {\n      return predictions.subtract(correctOutput);\n    }\n\n    const denominator = predictions.multiply(predictions.minusOne().multiply(-1)).add(this.epsilon);\n\n    const dA = predictions.subtract(correctOutput).divide(denominator);\n\n    return dA.multiply(lastLayer.derivative(predictions));\n  }\n}\n","import { CalcMatrix2D } from \"../Math/CalcMatrix2D\";\n\nexport class Dataset {\n  public exampleSize = 0;\n  public numberOfExamples = 0;\n  public data: CalcMatrix2D | null = null;\n\n  constructor(exampleSize: number = null, numberOfExamples: number = null, data: CalcMatrix2D = null) {\n    this.exampleSize = exampleSize;\n    this.numberOfExamples = numberOfExamples;\n\n    if (data) {\n      this.data = data;\n    }\n  }\n\n  static fromMatrix(m: CalcMatrix2D): Dataset {\n    const instance = new Dataset();\n    instance.exampleSize = m.rows;\n    instance.numberOfExamples = m.cols;\n    instance.data = m;\n\n    return instance;\n  }\n\n  exampleAt(index: number): CalcMatrix2D | null {\n    return this.data.row(index).transpose();\n  }\n\n  getNumberOfExamples(): number {\n    return this.data.rows();\n  }\n\n  getExampleSize(): number {\n    return this.data.cols();\n  }\n\n  getBatch(offset: number, batchSize: number): Dataset {\n    const data = this.data.block(0, offset, this.data.rows, batchSize);\n    return Dataset.fromMatrix(data);\n  }\n\n  /*insertColumnAfter(column, size = 1) {\n    const oldData = this.data.copy();\n\n    this.exampleSize = this.data.rows + size;\n    this.data.resize(this.data.rows + size, this.data.cols);\n\n    for (let row = 0; row < this.data.rows; row += 1) {\n      for (let col = 0; col < this.data.cols; col += 1) {\n        if (row <= column) {\n          this.data.data[row][col] = oldData.data[row][col];\n        } else if (row > column && row <= column + size) {\n          this.data.data[row][col] = undefined;\n        } else if (row > column + size) {\n          this.data.data[row][col] = oldData.data[row - size][col];\n        }\n      }\n    }\n  }*/\n}\n","import { Dataset } from \"../index\";\nimport { AbstractSource } from \"./Source/AbstractSource\";\n\ninterface ParametersInterface {\n  transpose?: boolean;\n}\n\nexport class DatasetBuilder {\n  static fromSource(sourcePromise: Promise<AbstractSource>, params: ParametersInterface = {}): Promise<Dataset> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const matrix = source.parse();\n        const numberOfExamples = matrix.rows();\n        const exampleSize = matrix.cols();\n\n        const dataset = new Dataset(exampleSize, numberOfExamples, matrix);\n        resolve(dataset);\n      });\n    });\n  }\n}\n","import { CalcMatrix2D } from \"../Math/CalcMatrix2D\";\n\nexport class DatasetVocabulary {\n  /*public vocabularySize = 0;\npublic dataSize = 0;\npublic data: string = \"\";\npublic chars: string[];\n\nconstructor(str: string) {\n  this.data = str.toLowerCase();\n  const chars = [...new Set(this.data.split(\"\").sort())];\n\n  this.chars = chars;\n  this.dataSize = this.data.length;\n  this.vocabularySize = chars.length;\n}\n\ngetExamples(): string[] {\n  return this.data\n    .replace(/\\n+/, \"\\n\")\n    .split(\"\\n\")\n    .map((example: string) => {\n      return example + \"\\n\";\n    });\n}\n\ngetVocabularySize(): number {\n  return this.vocabularySize;\n}\n\ngetCharsLength(): number {\n  return this.chars.length;\n}\n\ngetCharIndices(): Object {\n  const result = {};\n  this.chars.forEach((char, i) => {\n    result[char] = i;\n  });\n  return result;\n}\n\nbuildData(tx: number = 40, stride: number = 3) {\n  const X = [];\n  const Y = [];\n\n  for (let i = 0; i < this.data.length - tx; i += stride) {\n    X.push(this.data.substr(i, tx));\n    Y.push(this.data[i + tx]);\n  }\n\n  return [X, Y];\n}\n\nvectorization(X: string[], Y: string[], nx: number = 40): [Matrix[], Matrix] {\n  const m = X.length;\n  const x = new Array(m);\n  const chars = this.getCharIndices();\n  const y = new Matrix(m, this.chars.length).setZeros();\n  let xIndex = 0;\n  let rowIndex = 0;\n\n  X.forEach((sentence: string, _m) => {\n    x[_m] = new Matrix(sentence.length, this.chars.length).setZeros();\n    sentence.split(\"\").forEach((char, t) => {\n      x[_m].data[t][chars[char]] = 1;\n      rowIndex++;\n    });\n    xIndex++;\n    rowIndex = 0;\n\n    y.data[_m][chars[Y[_m]]] = 1;\n  });\n\n  return [x, y];\n}\n\ngetChars(): string[] {\n  return this.chars;\n}\n\ngetExampleX(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}\n\ngetExampleY(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}*/\n}\n","import { AbstractVocabularySource } from \"./VocabularySource/AbstractVocabularySource\";\nimport { DatasetVocabulary } from \"../DatasetVocabulary\";\n\nexport class DatasetVocabularyBuilder {\n  static fromSource(sourcePromise: Promise<AbstractVocabularySource>): Promise<DatasetVocabulary> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const str = source.parse();\n        resolve(new DatasetVocabulary(str));\n      });\n    });\n  }\n}\n","import { CalcMatrix2D } from \"../../../Math/CalcMatrix2D\";\n\nexport abstract class AbstractSource {\n  abstract parse(): CalcMatrix2D;\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"csvtojson\");","import { AbstractSource } from \"./AbstractSource\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport * as csvtojson from \"csvtojson\";\n\nexport class SourceCSV extends AbstractSource {\n  protected data: number[][] | string[][] | null = null;\n\n  constructor(data: number[][] | string[][]) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<SourceCSV> {\n    return new Promise((resolve) => {\n      csvtojson({\n        noheader: true,\n        output: \"csv\",\n      })\n        .fromFile(path)\n        .then((arr) => {\n          resolve(new SourceCSV(arr));\n        });\n    });\n  }\n\n  parse(): CalcMatrix2D {\n    const numberOfExamples = this.data.length;\n    const exampleSize = this.data[0]?.length;\n\n    if (typeof numberOfExamples !== \"undefined\" && typeof exampleSize !== \"undefined\") {\n      let data = [];\n      for (let i = 0; i < numberOfExamples; i += 1) {\n        const newData = [];\n        this.data[i].forEach((value, index) => {\n          newData.push(Number(value));\n        });\n        data = [...data, ...newData];\n      }\n      return new CalcMatrix2D(numberOfExamples, exampleSize).allocate().set(new Float64Array(data));\n    }\n\n    return new CalcMatrix2D(0, 0);\n  }\n}\n","import * as fs from \"fs\";\nimport { AbstractVocabularySource } from \"./AbstractVocabularySource\";\n\nexport class TextFile extends AbstractVocabularySource {\n  protected data: string = \"\";\n\n  constructor(data: string) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<TextFile> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(path, (err, buffer) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n\n        resolve(new TextFile(buffer.toString(\"utf-8\")));\n      });\n    });\n  }\n\n  parse(): string {\n    return this.data;\n  }\n}\n","export abstract class AbstractVocabularySource {\n  abstract parse(): string;\n}\n","import { Dataset } from \"../Dataset\";\n\nexport abstract class AbstractModifier {\n  protected dataset: Dataset = null;\n\n  constructor(dataset: Dataset) {\n    this.dataset = dataset;\n  }\n\n  abstract apply(dataset: Dataset): Dataset | Array<Dataset>;\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\nimport { Dataset } from \"../Dataset\";\n\nexport class CallbackDatasetModifier extends AbstractModifier {\n  /*protected callback: (example: CalcMatrix2D) => CalcMatrix2D = (example) => example;\n\n  apply(): Dataset {\n    for (let exampleIndex = 0; exampleIndex < this.dataset.getNumberOfExamples(); exampleIndex += 1) {\n      const example = this.callback(this.dataset.exampleAt(exampleIndex));\n      for (let row = 0; row < this.dataset.data.rows; row += 1) {\n        if (example) {\n          this.dataset.data.data[row][exampleIndex] = example.data[row][0];\n        }\n      }\n    }\n    return this.dataset;\n  }\n\n  setCallback(callback: (example: Matrix2D) => Matrix2D): CallbackDatasetModifier {\n    this.callback = callback;\n    return this;\n  }*/\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MinMaxScalingDatasetModifier extends AbstractModifier {\n  apply(dataset: Dataset): Dataset {\n    const newData = dataset.data.minMax();\n    dataset.data = newData;\n    return dataset;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MissingDataDatasetModifier extends AbstractModifier {\n  protected modificationType = \"mean\";\n\n  apply(dataset: Dataset): Dataset {\n    const rowsToFill = [];\n    let correctExamplesCount = 0;\n    let sum = 0;\n    let valueToFill = 0;\n\n    for (let exampleIndex = 0; exampleIndex < dataset.getNumberOfExamples(); exampleIndex += 1) {\n      const example = dataset.exampleAt(exampleIndex);\n      for (let row = 0; row < dataset.getExampleSize(); row += 1) {\n        if (isNaN(example.data[row][0]) || typeof example.data[row][0] !== \"number\") {\n          rowsToFill.push({\n            row,\n            col: example,\n          });\n        } else {\n          sum += example.data[row][0];\n          correctExamplesCount++;\n        }\n      }\n    }\n\n    if (this.modificationType === \"mean\") {\n      valueToFill = sum / correctExamplesCount;\n    }\n\n    rowsToFill.forEach(({ row, col }) => {\n      dataset.data.data[row][col] = valueToFill;\n    });\n\n    return dataset;\n  }\n\n  setModificationType(type: string): MissingDataDatasetModifier {\n    this.modificationType = type;\n    return this;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class ShuffleDatasetModifier extends AbstractModifier {\n  /*public sortList: number[] = [];\n\n  constructor(dataset: Dataset) {\n    super(dataset);\n  }\n\n  apply(dataset: Dataset): Dataset {\n    return dataset;\n    let index = 0;\n    const data = Matrix.from(\n      dataset.data.transpose().data.sort((exampleA: number[], exampleB: number[]) => {\n        if (typeof this.sortList[index] === \"undefined\") {\n          // first run\n          this.sortList[index] = Math.random() - 0.5;\n        }\n        index += 1;\n        return this.sortList[index - 1];\n      })\n    ).transpose().data;\n    return new Dataset(dataset.getExampleSize(), dataset.getNumberOfExamples(), data);\n}*/\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class CategoryDatasetModifier extends AbstractModifier {\n  protected columns: Array<number>;\n\n  constructor(columns: Array<number>) {\n    super(null);\n    this.columns = columns;\n  }\n\n  apply(dataset: Dataset): Dataset {\n    let size = 0;\n    let _dataset = dataset;\n\n    this.columns.sort().forEach((column) => {\n      let [dataset, _size] = this.applyForColumn(_dataset, column + size);\n      // @ts-ignore\n      size += _size;\n      _dataset = dataset;\n    });\n    return dataset;\n  }\n\n  applyForColumn(dataset: Dataset, column: number): [Dataset, number] {\n    const example = dataset.data.row(column);\n    let values = [];\n\n    for (let row = 0; row < example.rows; row += 1) {\n      values.push(example.value(row, 0));\n    }\n\n    values = values.filter((value, index, self) => {\n      return self.indexOf(value) === index;\n    });\n\n    dataset.insertColumnAfter(column, values.length - 1);\n\n    for (let col = 0; col < dataset.data.cols; col += 1) {\n      const oldValue = dataset.data.data[column][col];\n      let index = 0;\n      for (let row = 0; row < dataset.data.rows; row += 1) {\n        if (row >= column && row < column + values.length) {\n          if (index === values.indexOf(oldValue)) {\n            dataset.data.data[row][col] = 1;\n          } else {\n            dataset.data.data[row][col] = 0;\n          }\n          index += 1;\n        }\n      }\n    }\n\n    return [dataset, values.length - 1];\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class SplitDatasetModifier extends AbstractModifier {\n  /*protected columns: Array<number>;\n\n  constructor(columns: Array<number>) {\n    super(null);\n    this.columns = columns.sort();\n  }\n\n  apply(dataset: Dataset): Array<Dataset> {\n    return [];\n    /*const inputData = [];\n    const outputData = [];\n\n    for (let col = 0; col < dataset.getNumberOfExamples(); col += 1) {\n      const example = dataset.exampleAt(col);\n      for (let row = 0, _inputIndex = 0, _outputIndex = 0; row < dataset.exampleSize; row += 1) {\n        if (this.columns.includes(row)) {\n          if (!inputData[_inputIndex]) {\n            inputData[_inputIndex] = [];\n          }\n          inputData[_inputIndex][col] = example.data[row][0];\n          _inputIndex += 1;\n        } else {\n          if (!outputData[_outputIndex]) {\n            outputData[_outputIndex] = [];\n          }\n          outputData[_outputIndex][col] = example.data[row][0];\n          _outputIndex += 1;\n        }\n      }\n    }\n\n    const newInputData = Matrix.from(inputData).transpose().data;\n    const newOutputData = Matrix.from(outputData).transpose().data;\n\n    const inputDataset = new Dataset(newInputData[0].length, newInputData.length, newInputData);\n    const outputDataset = new Dataset(newOutputData[0].length, newOutputData.length, newOutputData);\n\n    return [inputDataset, outputDataset];\n}*/\n}\n","import Math from \"./Math\";\nimport { NetworkBuilder1D } from \"./Network/Builder\";\nimport {\n  SoftmaxLayer,\n  LogisticLayer,\n  ReluLayer,\n  TanhLayer,\n} from \"./Network/Layer\";\nimport {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n} from \"./Network/Trainer/Optimizer\";\nimport Trainer from \"./Network/Trainer\";\nimport { MeanSquaredErrorCost } from \"./Network/Trainer/Cost/MeanSquaredErrorCost\";\nimport { CrossEntropyCost } from \"./Network/Trainer/Cost/CrossEntropyCost\";\n\nconst NetworkBuilder = { NetworkBuilder1D };\nconst Layer = {\n  SoftmaxLayer,\n  LogisticLayer,\n  ReluLayer,\n  TanhLayer,\n};\nconst Optimizer = {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n};\nconst Cost = {\n  MeanSquaredErrorCost,\n  CrossEntropyCost,\n};\n\nimport native from \"../../build/Release/node_native_memory.node\";\nimport path from \"path\";\n\nnative.setModulePath(path.resolve(__dirname, \"../\"));\n\nimport { Dataset as DatasetDataset } from \"./Dataset\";\nimport { DatasetBuilder as DatasetBuilderBuilder, DatasetVocabularyBuilder } from \"./Dataset/Builder\";\nimport { SourceCSV } from \"./Dataset/Builder/Source\";\nimport { TextFile } from \"./Dataset/Builder/VocabularySource\";\n\nimport {\n  CallbackDatasetModifier,\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  CategoryDatasetModifier,\n  SplitDatasetModifier,\n} from \"./Dataset/Modifier\";\n\nconst DatasetBuilder = {\n  DatasetBuilder: DatasetBuilderBuilder,\n  DatasetVocabularyBuilder,\n};\nconst Dataset = {\n  Dataset: DatasetDataset,\n};\nconst DatasetModifier = {\n  CallbackDatasetModifier,\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  CategoryDatasetModifier,\n  SplitDatasetModifier,\n};\nconst DatasetBuilderSource = {\n  DatasetBuilderSourceCSV: SourceCSV,\n  DatasetVocabularyBuilderSourceTextFile: TextFile,\n};\n\nexport {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n};\nexport default {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n};\n"],"names":["process","dlopen","module","__dirname","error","Error","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","id","loaded","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","nmd","paths","children","p","currentDevice","nodenative","CPU","getDevice","Calc","_classCallCheck","_defineProperty","result","this","_result","params","_params","kernel","exec","_this","Promise","resolve","then","async","arguments","length","fn","loadModule","loadFunction","input","output","execute","map","m","getMemory","e","console","CalcElement","width","height","depth","_dims","_this$_dims","_slicedToArray","allocate","device","_memory","alloc","count","setWidth","rows","setHeight","cols","setDepth","_allocated","arr","set","Float64Array","calcSync","calc","setZeros","number","setRandom","setMax","setMin","reluBackpropagation","pow","sum","reluForwardPropagation","that","CalcScalar","_call","nb","setResult","setParams","execAsync","execSync","callback","getCalcSandbox","reject","dispose","free","other","copyFrom","dims","_CalcElement","_callSuper","_inherits","CalcColVector","memory","CalcRowVector","fromMemory","clone","CalcMatrix2D","index","maxCoeff","dot","add","replicate","transpose","logisticForwardPropagation","logisticBackwardPropagation","log","multiply","minusOne","conjugate","mOrNumber","divide","subtract","rowwiseSum","softmax","num","fraction","tanh","tanhDerivative","logMinusOne","sqrt","offset","batch","start","end","block","softmaxDerivative","min","max","minMax","baseSandbox","_objectSpread","_offset","_batch","_start","_end","_m","__rows","__cols","img2col","filterSize","stride","padding","round","decimalPlaces","Math","CalcMatrix3D","Network","dimensions","layer","size","layers","push","forEach","forward","l","next","forwardAsync","out","destroy","X","regularization","sigma","currentSigma","i","getBackPropagation","propagate","path","resultJSON","type","getType","getSize","weights","W","b","JSON","stringify","fs","err","Backpropagation1Dto1D","_AbstractBackPropagat","numberOfExamples","previousActivations","previousLayer","A","delta","gW","gb","concat","derivative","_createClass","AbstractBackPropagation","BackpropagationFactory","is1D","AbstractNetworkBuilder","dimension","network","layerClass","lastLayer","firstLayerTransition","transition","configure","setBackPropagation","create","addLayer","LayerType","AbstractLayer1D","_AbstractLayer","Z","vW","vb","sW","sb","dW","db","resize","getHeight","getWidth","activation","is3D","getOutputWidth","getOutputHeight","getOutputDepth","AbstractLayer","backPropagation","SoftmaxLayer","_AbstractLayer1D","LogisticLayer","logistic","TanhLayer","ReluLayer","relu","NetworkBuilder1D","_AbstractNetworkBuild","jsonPath","data","json","parse","toString","builder","layerData","createLayer","setSize","getNetwork","getLayers","AbstractOptimizer","batchSize","t","learningRate","OptimizerAdam","_AbstractOptimizer","_len","args","Array","_key","beta1","beta2","adam","vWCorrected","vbCorrected","sWCorrected","sbCorrected","OptimizerGradientDescent","gradientDescent","OptimizerAdagrad","adagrad","epsilon","OptimizerMomentum","momentum","beta","OptimizerRMSProp","alpha","rmsprop","BatchTrainer","_AbstractTrainer","optimizer","costFunction","inputDataset","outputDataset","getNumberOfExamples","Y","setBatchSize","setLearningRate","iterations","startTime","Date","getTime","predictions","getLastLayer","backward","setT","optimize","verbose","verboseStep","currentResult","cost","endTime","accuracy","stepCallback","iteration","AbstractTrainer","correctOutput","miniBatchSize","dataLoss","loss","regularizationPenalty","penalty","correctPredictions","predictionIndex","col","outputIndex","AbstractCost","MeanSquaredErrorCost","_AbstractCost","CrossEntropyCost","logPredictions","denominator","Dataset","exampleSize","instance","row","fromMatrix","DatasetBuilder","sourcePromise","source","matrix","dataset","DatasetVocabulary","DatasetVocabularyBuilder","str","AbstractSource","SourceCSV","_AbstractSource","csvtojson","noheader","fromFile","_this$data$","_this2","_loop","newData","Number","_toConsumableArray","TextFile","_AbstractVocabularySo","buffer","AbstractVocabularySource","AbstractModifier","CallbackDatasetModifier","_AbstractModifier","MinMaxScalingDatasetModifier","MissingDataDatasetModifier","rowsToFill","correctExamplesCount","valueToFill","exampleIndex","example","exampleAt","getExampleSize","isNaN","modificationType","_ref","ShuffleDatasetModifier","CategoryDatasetModifier","columns","_dataset","sort","column","_this2$applyForColumn2","applyForColumn","_size","values","filter","self","indexOf","insertColumnAfter","oldValue","SplitDatasetModifier","NetworkBuilder","Layer","Optimizer","Cost","native","DatasetBuilderBuilder","DatasetDataset","DatasetModifier","DatasetBuilderSource","DatasetBuilderSourceCSV","DatasetVocabularyBuilderSourceTextFile","Trainer"],"sourceRoot":""}