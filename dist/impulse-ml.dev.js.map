{"version":3,"file":"impulse-ml.dev.js","mappings":"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","sources":["webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetVocabularyBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/AbstractSource.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/SourceCSV.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/AbstractVocabularySource.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/TextFile.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Dataset.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/DatasetVocabulary.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/AbstractModifier.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MinMaxScaling.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MissingData.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Shuffle.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Split.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/index.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Calc.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcColVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcElement.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix2D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix3D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcRowVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcScalar.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Computation/index.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Computation/utils.ts","webpack://impulse-math-device-ts/./src/typescript/Math/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/AbstractNetworkBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/NetworkBuilder1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/AbstractBackpropagation.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/Backpropagation1Dto1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/BackpropagationFactory.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Logistic.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Relu.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Softmax.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Tanh.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Network.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/AbstractTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/BatchTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/AbstractCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/CrossEntropyCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/MeanSquaredErrorCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/AbstractOptimizer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdagrad.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdam.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerGradientDescent.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerMomentum.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerRMSProp.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/index.ts","webpack://impulse-math-device-ts/./src/typescript/main.ts","webpack://impulse-math-device-ts/./src/typescript/types.ts","webpack://impulse-math-device-ts/external commonjs2 \"csvtojson\"","webpack://impulse-math-device-ts/external node-commonjs \"fs\"","webpack://impulse-math-device-ts/external node-commonjs \"module\"","webpack://impulse-math-device-ts/external node-commonjs \"os\"","webpack://impulse-math-device-ts/external node-commonjs \"path\"","webpack://impulse-math-device-ts/external node-commonjs \"process\"","webpack://impulse-math-device-ts/webpack/bootstrap","webpack://impulse-math-device-ts/webpack/runtime/compat get default export","webpack://impulse-math-device-ts/webpack/runtime/define property getters","webpack://impulse-math-device-ts/webpack/runtime/hasOwnProperty shorthand","webpack://impulse-math-device-ts/webpack/runtime/make namespace object","webpack://impulse-math-device-ts/webpack/before-startup","webpack://impulse-math-device-ts/webpack/startup","webpack://impulse-math-device-ts/webpack/after-startup"],"sourcesContent":["import { Dataset } from \"../index\";\nimport { AbstractSource } from \"./Source/AbstractSource\";\n\ninterface ParametersInterface {\n  transpose?: boolean;\n}\n\nexport class DatasetBuilder {\n  static fromSource(sourcePromise: Promise<AbstractSource>, params: ParametersInterface = {}): Promise<Dataset> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const dataset = source.parse();\n        resolve(dataset);\n      });\n    });\n  }\n}\n","import { AbstractVocabularySource } from \"./VocabularySource/AbstractVocabularySource\";\nimport { DatasetVocabulary } from \"../DatasetVocabulary\";\n\nexport class DatasetVocabularyBuilder {\n  static fromSource(sourcePromise: Promise<AbstractVocabularySource>): Promise<DatasetVocabulary> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const str = source.parse();\n        resolve(new DatasetVocabulary(str));\n      });\n    });\n  }\n}\n","import { Dataset } from \"../../Dataset\";\n\nexport abstract class AbstractSource {\n  abstract parse(): Dataset;\n}\n","import { AbstractSource } from \"./AbstractSource\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport * as csvtojson from \"csvtojson\";\nimport { Dataset } from \"../../Dataset\";\n\nexport class SourceCSV extends AbstractSource {\n  protected data: number[][] | string[][] | null = null;\n\n  constructor(data: number[][] | string[][]) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<SourceCSV> {\n    return new Promise((resolve) => {\n      csvtojson({\n        noheader: true,\n        trim: true,\n        output: \"csv\",\n      })\n        .fromFile(path)\n        .then((arr) => {\n          resolve(new SourceCSV(arr));\n        });\n    });\n  }\n\n  parse(): Dataset {\n    const numberOfExamples = this.data.length;\n    const exampleSize = this.data[0]?.length;\n\n    let data = [];\n    for (let i = 0; i < numberOfExamples; i += 1) {\n      this.data[i].forEach((value) => {\n        data.push(Number(value));\n      });\n    }\n    return Dataset.fromMatrix(new CalcMatrix2D(exampleSize, numberOfExamples).allocate().set(data));\n  }\n}\n","import { SourceCSV } from \"./SourceCSV\";\n\nexport { SourceCSV };\n","export abstract class AbstractVocabularySource {\n  abstract parse(): string;\n}\n","import * as fs from \"fs\";\nimport { AbstractVocabularySource } from \"./AbstractVocabularySource\";\n\nexport class TextFile extends AbstractVocabularySource {\n  protected data: string = \"\";\n\n  constructor(data: string) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<TextFile> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(path, (err, buffer) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n\n        resolve(new TextFile(buffer.toString(\"utf-8\")));\n      });\n    });\n  }\n\n  parse(): string {\n    return this.data;\n  }\n}\n","import { TextFile } from \"./TextFile\";\n\nexport { TextFile };\n","import { DatasetBuilder } from \"./DatasetBuilder\";\nimport { DatasetVocabularyBuilder } from \"./DatasetVocabularyBuilder\";\n\nexport { DatasetBuilder, DatasetVocabularyBuilder };\n","import { CalcMatrix2D } from \"../Math\";\n\nexport class Dataset {\n  public data: CalcMatrix2D | null = null;\n\n  constructor(data: CalcMatrix2D | null = null) {\n    this.data = data;\n  }\n\n  static fromMatrix(m: CalcMatrix2D): Dataset {\n    return new Dataset(m);\n  }\n\n  exampleAt(index: number): CalcMatrix2D {\n    return this.data.col(index);\n  }\n\n  getNumberOfExamples(): number {\n    return this.data.cols();\n  }\n\n  getExampleSize(): number {\n    return this.data.rows();\n  }\n\n  getBatch(offset: number, batchSize: number): CalcMatrix2D {\n    return this.data.block(0, offset, this.getExampleSize(), batchSize);\n  }\n}\n","import { CalcMatrix2D } from \"../Math/CalcMatrix2D\";\n\nexport class DatasetVocabulary {\n  /*public vocabularySize = 0;\npublic dataSize = 0;\npublic data: string = \"\";\npublic chars: string[];\n\nconstructor(str: string) {\n  this.data = str.toLowerCase();\n  const chars = [...new Set(this.data.split(\"\").sort())];\n\n  this.chars = chars;\n  this.dataSize = this.data.length;\n  this.vocabularySize = chars.length;\n}\n\ngetExamples(): string[] {\n  return this.data\n    .replace(/\\n+/, \"\\n\")\n    .split(\"\\n\")\n    .map((example: string) => {\n      return example + \"\\n\";\n    });\n}\n\ngetVocabularySize(): number {\n  return this.vocabularySize;\n}\n\ngetCharsLength(): number {\n  return this.chars.length;\n}\n\ngetCharIndices(): Object {\n  const result = {};\n  this.chars.forEach((char, i) => {\n    result[char] = i;\n  });\n  return result;\n}\n\nbuildData(tx: number = 40, stride: number = 3) {\n  const X = [];\n  const Y = [];\n\n  for (let i = 0; i < this.data.length - tx; i += stride) {\n    X.push(this.data.substr(i, tx));\n    Y.push(this.data[i + tx]);\n  }\n\n  return [X, Y];\n}\n\nvectorization(X: string[], Y: string[], nx: number = 40): [Matrix[], Matrix] {\n  const m = X.length;\n  const x = new Array(m);\n  const chars = this.getCharIndices();\n  const y = new Matrix(m, this.chars.length).setZeros();\n  let xIndex = 0;\n  let rowIndex = 0;\n\n  X.forEach((sentence: string, _m) => {\n    x[_m] = new Matrix(sentence.length, this.chars.length).setZeros();\n    sentence.split(\"\").forEach((char, t) => {\n      x[_m].data[t][chars[char]] = 1;\n      rowIndex++;\n    });\n    xIndex++;\n    rowIndex = 0;\n\n    y.data[_m][chars[Y[_m]]] = 1;\n  });\n\n  return [x, y];\n}\n\ngetChars(): string[] {\n  return this.chars;\n}\n\ngetExampleX(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}\n\ngetExampleY(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}*/\n}\n","import { Dataset } from \"../Dataset\";\n\nexport abstract class AbstractModifier {\n  protected dataset: Dataset = null;\n\n  constructor(dataset: Dataset) {\n    this.dataset = dataset;\n  }\n\n  abstract apply(dataset: Dataset): Dataset | Array<Dataset>;\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MinMaxScalingDatasetModifier extends AbstractModifier {\n  apply(dataset: Dataset): Dataset {\n    dataset.data.replace(dataset.data.minMax());\n    return dataset;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MissingDataDatasetModifier extends AbstractModifier {\n  protected modificationType = \"mean\";\n\n  apply(dataset: Dataset): Dataset {\n    const rowsToFill = [];\n    let correctExamplesCount = 0;\n    let sum = 0;\n    let valueToFill = 0;\n\n    for (let exampleIndex = 0; exampleIndex < dataset.getNumberOfExamples(); exampleIndex += 1) {\n      const example = dataset.exampleAt(exampleIndex);\n      for (let row = 0; row < dataset.getExampleSize(); row += 1) {\n        if (isNaN(example.data[row][0]) || typeof example.data[row][0] !== \"number\") {\n          rowsToFill.push({\n            row,\n            col: example,\n          });\n        } else {\n          sum += example.data[row][0];\n          correctExamplesCount++;\n        }\n      }\n    }\n\n    if (this.modificationType === \"mean\") {\n      valueToFill = sum / correctExamplesCount;\n    }\n\n    rowsToFill.forEach(({ row, col }) => {\n      dataset.data.data[row][col] = valueToFill;\n    });\n\n    return dataset;\n  }\n\n  setModificationType(type: string): MissingDataDatasetModifier {\n    this.modificationType = type;\n    return this;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class ShuffleDatasetModifier extends AbstractModifier {\n  /*public sortList: number[] = [];\n\n  constructor(dataset: Dataset) {\n    super(dataset);\n  }\n\n  apply(dataset: Dataset): Dataset {\n    return dataset;\n    let index = 0;\n    const data = Matrix.from(\n      dataset.data.transpose().data.sort((exampleA: number[], exampleB: number[]) => {\n        if (typeof this.sortList[index] === \"undefined\") {\n          // first run\n          this.sortList[index] = Math.random() - 0.5;\n        }\n        index += 1;\n        return this.sortList[index - 1];\n      })\n    ).transpose().data;\n    return new Dataset(dataset.getExampleSize(), dataset.getNumberOfExamples(), data);\n}*/\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class SplitDatasetModifier extends AbstractModifier {\n  /*protected columns: Array<number>;\n\n  constructor(columns: Array<number>) {\n    super(null);\n    this.columns = columns.sort();\n  }\n\n  apply(dataset: Dataset): Array<Dataset> {\n    return [];\n    /*const inputData = [];\n    const outputData = [];\n\n    for (let col = 0; col < dataset.getNumberOfExamples(); col += 1) {\n      const example = dataset.exampleAt(col);\n      for (let row = 0, _inputIndex = 0, _outputIndex = 0; row < dataset.exampleSize; row += 1) {\n        if (this.columns.includes(row)) {\n          if (!inputData[_inputIndex]) {\n            inputData[_inputIndex] = [];\n          }\n          inputData[_inputIndex][col] = example.data[row][0];\n          _inputIndex += 1;\n        } else {\n          if (!outputData[_outputIndex]) {\n            outputData[_outputIndex] = [];\n          }\n          outputData[_outputIndex][col] = example.data[row][0];\n          _outputIndex += 1;\n        }\n      }\n    }\n\n    const newInputData = Matrix.from(inputData).transpose().data;\n    const newOutputData = Matrix.from(outputData).transpose().data;\n\n    const inputDataset = new Dataset(newInputData[0].length, newInputData.length, newInputData);\n    const outputDataset = new Dataset(newOutputData[0].length, newOutputData.length, newOutputData);\n\n    return [inputDataset, outputDataset];\n}*/\n}\n","import { MinMaxScalingDatasetModifier } from \"./MinMaxScaling\";\nimport { MissingDataDatasetModifier } from \"./MissingData\";\nimport { ShuffleDatasetModifier } from \"./Shuffle\";\nimport { SplitDatasetModifier } from \"./Split\";\n\nexport { MinMaxScalingDatasetModifier, MissingDataDatasetModifier, ShuffleDatasetModifier, SplitDatasetModifier };\n","import { Dataset } from \"./Dataset\";\n\nexport { Dataset };\n","import { CalcElement } from \"./CalcElement\";\nimport { getDevice } from \"./Computation\";\n\nexport class Calc {\n  private _result: Array<CalcElement> | null = null;\n  private _params: Array<CalcElement> | null = null;\n\n  public static get() {\n    return new Calc();\n  }\n\n  public setResult(result: Array<CalcElement>) {\n    this._result = result;\n    return this;\n  }\n\n  public setParams(params: Array<CalcElement>) {\n    this._params = params;\n    return this;\n  }\n\n  public execSync(module: string, kernel: string) {\n    this.exec(module, kernel)(this._params, this._result);\n    return this;\n  }\n\n  /**\n   * Note: This function is not truly asynchronous. The underlying native addon\n   * does not support asynchronous execution.\n   */\n  public execAsync(module: string, kernel: string): Promise<Calc> {\n    return new Promise((resolve) => {\n      this.exec(\n        module,\n        kernel,\n        true,\n      )(this._params, this._result).then(() => {\n        resolve(this);\n      });\n    });\n  }\n\n  private exec(module: string, kernel: string, async = false) {\n    try {\n      const device = getDevice();\n      const m = device.loadModule(module);\n      const fn = m.loadFunction(kernel);\n\n      return (input: Array<CalcElement> | null = null, output: Array<CalcElement> | null = null) => {\n        return fn.execute(\n          (input || []).map((m) => m.getMemory()),\n          (output || []).map((m) => m.getMemory()),\n          async,\n        );\n      };\n    } catch (e) {\n      console.error(e);\n      return () => {};\n    }\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcColVector extends CalcElement {\n  constructor(cols = 1) {\n    super(1, cols);\n  }\n\n  public isColVector() {\n    return true;\n  }\n\n  public static fromMemory(memory, cols: number) {\n    const result = new CalcColVector(cols);\n    result._memory = memory;\n    result._allocated = true;\n    return result;\n  }\n}\n","import { getDevice } from \"./Computation\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { Calc } from \"./Calc\";\n\nexport class CalcElement {\n  private _dims: Array<number> = [];\n  protected _allocated = false;\n  protected _memory: any = null;\n  protected _device: any = null;\n\n  constructor(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n    this._device = getDevice();\n  }\n\n  public dims(): Array<number> {\n    return this._dims;\n  }\n\n  public rows(): number {\n    return this._dims[0];\n  }\n\n  public cols(): number {\n    return this._dims[1];\n  }\n\n  public depth(): number {\n    return this._dims[2];\n  }\n\n  public count(): number {\n    const [width, height, depth] = this._dims;\n\n    return width * height * depth;\n  }\n\n  public resize(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n    this.allocate();\n    return this;\n  }\n\n  public allocate() {\n    if (!this._allocated) {\n      this._memory = this._device.alloc(this.count());\n      this._memory.setWidth(this.rows());\n      this._memory.setHeight(this.cols());\n      this._memory.setDepth(this.depth());\n      this._allocated = true;\n    }\n\n    return this;\n  }\n\n  public set(arr: Array<number>) {\n    this._memory.set(new Float64Array(arr));\n    return this;\n  }\n\n  public get() {\n    return this._memory.get();\n  }\n\n  public isScalar() {\n    return false;\n  }\n\n  public isRowVector() {\n    return false;\n  }\n\n  public isColVector() {\n    return false;\n  }\n\n  public isMatrix2D() {\n    return false;\n  }\n\n  public isMatrix3D() {\n    return false;\n  }\n\n  public setZeros() {\n    return this.calcSync((calc) => {\n      return calc.setZeros();\n    });\n  }\n\n  public setRandom(number: number) {\n    return this.calcSync((calc) => {\n      return calc.setRandom(number);\n    });\n  }\n\n  public setMax(number: number) {\n    return this.calcSync((calc) => {\n      return calc.setMax(number);\n    });\n  }\n\n  public setMin(number: number) {\n    return this.calcSync((calc) => {\n      return calc.setMin(number);\n    });\n  }\n\n  public reluBackpropagation() {\n    return this.calcSync((calc) => {\n      return calc.reluBackpropagation();\n    });\n  }\n  public pow(number: number) {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n  public sum() {\n    return this.calcSync((calc) => {\n      return calc.sum();\n    });\n  }\n  public reluForwardPropagation() {\n    return this.calcSync((calc) => {\n      return calc.reluForwardPropagation();\n    });\n  }\n\n  private getCalcSandbox(async = false) {\n    return {\n      sum: () => {\n        const result = new CalcScalar().allocate();\n        return this._call(\"algebra\", \"algebra_sum\", async)([this, result])(result);\n      },\n      setZeros: () => {\n        return this._call(\"matrix\", \"matrix_set_zeros\", async)([this])(this);\n      },\n      setRandom: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        return this._call(\"matrix\", \"matrix_set_random\", async)([this, nb])(this);\n      },\n    };\n  }\n\n  protected _call(module: string, kernel: string, async: boolean) {\n    return (params, result) => {\n      const calc = Calc.get().setResult(result).setParams(params);\n      return (result) => {\n        if (async) {\n          return new Promise((resolve) => {\n            calc.execAsync(module, kernel).then(() => {\n              resolve(result);\n            });\n          });\n        } else {\n          calc.execSync(module, kernel);\n          return result;\n        }\n      };\n    };\n  }\n\n  public calcSync(callback) {\n    return callback(this.getCalcSandbox(false));\n  }\n\n  public calcAsync(callback) {\n    return new Promise((resolve, reject) => {\n      try {\n        const result = callback(this.getCalcSandbox(true));\n        resolve(result);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  public getMemory() {\n    return this._memory;\n  }\n\n  [Symbol.dispose]() {\n    this._memory.free();\n  }\n\n  public destroy() {\n    this._memory.free();\n    this._dims = [0, 0, 0];\n    this._allocated = false;\n  }\n\n  public copyFrom(other: CalcElement) {\n    if (this._allocated) {\n      this.destroy();\n    }\n    this._dims = other.dims();\n    this.allocate();\n    this._memory.setWidth(other.rows());\n    this._memory.setHeight(other.cols());\n    this._memory.setDepth(other.depth());\n    this._memory.copyFrom(other.getMemory());\n    this._dims = other.dims();\n    return this;\n  }\n\n  public replace(other: CalcElement) {\n    if (this.rows() !== other.rows() || this.cols() !== other.cols() || this.depth() !== other.depth()) {\n      this.destroy();\n      this.copyFrom(other);\n    } else {\n      this._memory.copyFrom(other.getMemory());\n    }\n    other.destroy();\n    return this;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { Calc } from \"./Calc\";\n\nexport class CalcMatrix2D extends CalcElement {\n  constructor(rows = 1, cols = 1) {\n    super(rows, cols);\n  }\n\n  public isMatrix2D() {\n    return true;\n  }\n\n  public row(index: number): CalcMatrix2D {\n    const result = new CalcMatrix2D(1, this.cols()).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_row\",\n      false,\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public col(index: Number): CalcMatrix2D {\n    const result = new CalcMatrix2D(this.rows(), 1).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_col\",\n      false,\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public maxCoeff(): number {\n    return this.calcSync((calc) => {\n      return calc.maxCoeff();\n    });\n  }\n\n  public add(m: CalcMatrix2D) {\n    return this.calcSync((calc) => {\n      return calc.add(m);\n    });\n  }\n\n  public forwardPropagation(w: CalcMatrix2D, b: CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.forwardPropagation(w, b);\n    });\n  }\n\n  public backwardPropagation(\n    w: CalcMatrix2D,\n    a_prev: CalcMatrix2D,\n    regularization: number,\n    num_examples: number,\n  ): [CalcMatrix2D, CalcMatrix2D, CalcMatrix2D] {\n    return this.calcSync((calc) => {\n      return calc.backwardPropagation(w, a_prev, regularization, num_examples);\n    });\n  }\n\n  public transpose(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.transpose();\n    });\n  }\n\n  public logisticForwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticForwardPropagation();\n    });\n  }\n\n  public logisticBackwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticBackwardPropagation();\n    });\n  }\n\n  public pow(number: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n\n  public multiply(number: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.multiply(number);\n    });\n  }\n  public divide(mOrNumber: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.divide(mOrNumber);\n    });\n  }\n  public subtract(m: CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.subtract(m);\n    });\n  }\n\n  public crossEntropyLoss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, epsilon: number): number {\n    return this.calcSync((calc) => {\n      return calc.crossEntropyLoss(correctOutput, predictions, epsilon);\n    });\n  }\n\n  public crossEntropyDerivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, epsilon: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.crossEntropyDerivative(correctOutput, predictions, epsilon);\n    });\n  }\n\n  public softmax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmax();\n    });\n  }\n  public tanh(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanh();\n    });\n  }\n  public tanhDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanhDerivative();\n    });\n  }\n  public block(rowOffset: number, colOffset: number, numRows: number, numCols: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.block(rowOffset, colOffset, numRows, numCols);\n    });\n  }\n  public softmaxDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmaxDerivative();\n    });\n  }\n  public minMax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.minMax();\n    });\n  }\n\n  // Static method to run Adam optimizer\n  public static runAdamOptimizer(\n    W: CalcMatrix2D,\n    b: CalcMatrix2D,\n    gW: CalcMatrix2D,\n    gb: CalcMatrix2D,\n    vW: CalcMatrix2D,\n    vb: CalcMatrix2D,\n    sW: CalcMatrix2D,\n    sb: CalcMatrix2D,\n    learningRate: number,\n    beta1: number,\n    beta2: number,\n    epsilon: number,\n    t: number,\n  ): { W: CalcMatrix2D; b: CalcMatrix2D; vW: CalcMatrix2D; vb: CalcMatrix2D; sW: CalcMatrix2D; sb: CalcMatrix2D } {\n    // Create a dummy CalcMatrix2D instance to access calcSync\n    const dummy = new CalcMatrix2D(1, 1);\n    return dummy.calcSync((calc) => {\n      // Call the sandbox version of adamOptimize\n      return calc.adamOptimize(W, b, gW, gb, vW, vb, sW, sb, learningRate, beta1, beta2, epsilon, t);\n    });\n  }\n\n  protected getCalcSandbox(async = false) {\n    const baseSandbox = super.getCalcSandbox(async);\n    const that = this;\n    return {\n      ...baseSandbox,\n      crossEntropyLoss: (correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, epsilon: number) => {\n        const _epsilon = new CalcScalar().allocate().set([epsilon]);\n        const result = new CalcScalar().allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_cross_entropy_loss\",\n          async,\n        )(\n          [correctOutput, predictions, _epsilon],\n          [result],\n        )(result);\n      },\n      crossEntropyDerivative: (correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, epsilon: number) => {\n        const _epsilon = new CalcScalar().allocate().set([epsilon]);\n        const result = new CalcMatrix2D(correctOutput.rows(), correctOutput.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_cross_entropy_derivative\",\n          async,\n        )(\n          [correctOutput, predictions, _epsilon],\n          [result],\n        )(result);\n      },\n      block(rowOffset: number, colOffset: number, numRows: number, numCols: number): CalcMatrix2D {\n        const result = new CalcMatrix2D(numRows, numCols).allocate();\n        const _rowOffset = new CalcScalar().allocate().set([rowOffset]);\n        const _colOffset = new CalcScalar().allocate().set([colOffset]);\n        const _numRows = new CalcScalar().allocate().set([numRows]);\n        const _numCols = new CalcScalar().allocate().set([numCols]);\n        return that._call(\"matrix\", \"matrix_block\", async)([that, _rowOffset, _colOffset, _numRows, _numCols, result])(\n          result,\n        );\n      },\n      forwardPropagation: (w: CalcMatrix2D, b: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(w.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_forward_propagation\", async)([w, this, b, result])(result);\n      },\n      backwardPropagation: (w: CalcMatrix2D, a_prev: CalcMatrix2D, regularization: number, num_examples: number) => {\n        const gW = new CalcMatrix2D(w.rows(), w.cols()).allocate();\n        const gb = new CalcMatrix2D(w.rows(), 1).allocate();\n        const dA_prev = new CalcMatrix2D(a_prev.rows(), a_prev.cols()).allocate();\n        const _regularization = new CalcScalar().allocate().set([regularization]);\n        const _num_examples = new CalcScalar().allocate().set([num_examples]);\n\n        return that._call(\n          \"algebra\",\n          \"algebra_backward_propagation\",\n          async,\n        )([this, w, a_prev, _regularization, _num_examples, gW, gb, dA_prev])([gW, gb, dA_prev]);\n      },\n      pow: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_pow\", async)([this, new CalcScalar().allocate().set([number]), result])(\n          result,\n        );\n      },\n      fraction: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_fraction\",\n          async,\n        )([this, new CalcScalar().allocate().set([number]), result])(result);\n      },\n      softmax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax\", async)([this, result])(result);\n      },\n      sqrt: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_sqrt\", async)([this, result])(result);\n      },\n      tanh: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh\", async)([this, result])(result);\n      },\n      tanhDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh_derivative\", async)([this, result])(result);\n      },\n      softmaxDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax_derivative\", async)([this, result])(result);\n      },\n      rowwiseSum: () => {\n        const result = new CalcMatrix2D(this.rows(), 1).allocate();\n        return that._call(\"algebra\", \"algebra_rowwise_sum\", async)([this, result])(result);\n      },\n      multiply: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const _m = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply_number\", async)([this, _m, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply\", async)([this, m, result])(result);\n        }\n      },\n      log: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_log\", async)([this, result])(result);\n      },\n      divide: (mOrNumber: number | CalcMatrix2D) => {\n        if (typeof mOrNumber === \"number\") {\n          const num = new CalcScalar().allocate().set([mOrNumber]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_number\", async)([this, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_matrix\", async)([this, mOrNumber, result])(result);\n        }\n      },\n      dot: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), m.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_dot\", async)([this, m, result])(result);\n      },\n      add: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const num = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_number\", async)([this, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_matrix\", async)([this, m, result])(result);\n        }\n      },\n      subtract: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_subtract\", async)([this, m, result])(result);\n      },\n      transpose: () => {\n        const result = new CalcMatrix2D(this.cols(), this.rows()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"matrix\", \"matrix_transpose\", async)([this, result])(result);\n      },\n      logMinusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_log_minus_one\", async)([this, result])(result);\n      },\n      minusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_minus_one\", async)([this, result])(result);\n      },\n      logisticForwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_forward_propagation\", async)([this, result])(result);\n      },\n      conjugate: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_conjugate\", async)([this, result])(result);\n      },\n      logisticBackwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_backward_propagation\", async)([this, result])(result);\n      },\n      leakyRelu: (alpha: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_leaky_relu\",\n          async,\n        )([this, new CalcScalar().allocate().set([alpha]), result])(result);\n      },\n      leakyReluBackpropagation: (alpha: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_leaky_reluBackpropagation\",\n          async,\n        )([this, new CalcScalar().allocate().set([alpha]), result])(result);\n      },\n      maxCoeff: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"algebra\", \"algebra_max_coeff\", async)([this, result])(result);\n      },\n      setMin: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_min\", async)([this, nb, result])(result);\n      },\n      setMax: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_max\", async)([this, nb, result])(result);\n      },\n      min: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_min\", async)([this, result])(result);\n      },\n      max: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_max\", async)([this, result])(result);\n      },\n      minMax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_min_max\", async)([this, result])(result);\n      },\n      img2col: (filterSize, stride, padding) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        const params = new CalcRowVector(3).allocate().set([filterSize, stride, padding]);\n        return that._call(\"algebra\", \"algebra_img2col\", async)([this, params, result])(result);\n      },\n      adamOptimize: (\n        W: CalcMatrix2D,\n        b: CalcMatrix2D,\n        gW: CalcMatrix2D,\n        gb: CalcMatrix2D,\n        vW: CalcMatrix2D,\n        vb: CalcMatrix2D,\n        sW: CalcMatrix2D,\n        sb: CalcMatrix2D,\n        learningRate: number,\n        beta1: number,\n        beta2: number,\n        epsilon: number,\n        t: number,\n      ): {\n        W: CalcMatrix2D;\n        b: CalcMatrix2D;\n        vW: CalcMatrix2D;\n        vb: CalcMatrix2D;\n        sW: CalcMatrix2D;\n        sb: CalcMatrix2D;\n      } => {\n        // Allocate memory for the results\n        const updatedW = new CalcMatrix2D(W.rows(), W.cols()).allocate();\n        const updatedB = new CalcMatrix2D(b.rows(), b.cols()).allocate();\n        const updatedVW = new CalcMatrix2D(vW.rows(), vW.cols()).allocate();\n        const updatedVB = new CalcMatrix2D(vb.rows(), vb.cols()).allocate();\n        const updatedSW = new CalcMatrix2D(sW.rows(), sW.cols()).allocate();\n        const updatedSB = new CalcMatrix2D(sb.rows(), sb.cols()).allocate();\n\n        // Create CalcScalar instances for numbers\n        const _learningRate = new CalcScalar().allocate().set([learningRate]);\n        const _beta1 = new CalcScalar().allocate().set([beta1]);\n        const _beta2 = new CalcScalar().allocate().set([beta2]);\n        const _epsilon = new CalcScalar().allocate().set([epsilon]);\n        const _t = new CalcScalar().allocate().set([t]);\n\n        // Call the C++ function\n        return that._call(\n          \"algebra\",\n          \"algebra_adam_optimize\",\n          async,\n        )(\n          [W, b, gW, gb, vW, vb, sW, sb, _learningRate, _beta1, _beta2, _epsilon, _t], // Inputs\n          [updatedW, updatedB, updatedVW, updatedVB, updatedSW, updatedSB], // Outputs\n        )({\n          // Return object mapping\n          W: updatedW,\n          b: updatedB,\n          vW: updatedVW,\n          vb: updatedVB,\n          sW: updatedSW,\n          sb: updatedSB,\n        });\n      },\n    };\n  }\n\n  public clone() {\n    const clone = new CalcMatrix2D(this.rows(), this.cols());\n    clone.copyFrom(this);\n    return clone;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcMatrix3D extends CalcElement {\n  constructor(rows = 1, cols = 1, depth = 1) {\n    super(rows, cols, depth);\n  }\n\n  public isMatrix3D() {\n    return true;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcColVector } from \"./CalcColVector\";\n\nexport class CalcRowVector extends CalcElement {\n  constructor(rows = 1) {\n    super(rows);\n  }\n\n  public isRowVector() {\n    return true;\n  }\n\n  public transpose() {\n    const result = CalcColVector.fromMemory(this.getMemory().clone(), this.rows());\n    return result;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcScalar extends CalcElement {\n  constructor() {\n    super(1);\n  }\n\n  public isScalar() {\n    return true;\n  }\n}\n","import { setDevice, getDevice } from \"./utils\";\n\nexport { setDevice, getDevice };\n","import { load } from \"../../main\";\ntype Device = any;\n\nlet currentDevice: Device = null;\n\nexport const setDevice = (device: Device): void => {\n  currentDevice = device;\n};\n\nexport const getDevice = (): Device => {\n  if (!currentDevice) {\n    const native = load();\n    currentDevice = new native.Device.CPU();\n  }\n  return currentDevice;\n};\n","import { Calc } from \"./Calc\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { CalcColVector } from \"./CalcColVector\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcMatrix2D } from \"./CalcMatrix2D\";\nimport { CalcMatrix3D } from \"./CalcMatrix3D\";\n\nconst round = (num: number, decimalPlaces: number): number => {\n  return Math.round((num + 2.23e-16) * Math.pow(10, decimalPlaces)) / Math.pow(10, decimalPlaces);\n};\n\nexport { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\nexport default { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\n","import { Dimension, Layers } from \"../../types\";\nimport { Network, Networks } from \"../index\";\nimport { BackpropagationFactory } from \"../Layer/Backpropagation/BackpropagationFactory\";\n\nabstract class AbstractNetworkBuilder {\n  protected dimensions: Dimension | null = null;\n  protected lastLayer: Layers | null = null;\n  protected network: Networks | null = null;\n\n  constructor(dimension: Dimension) {\n    this.dimensions = dimension;\n    this.network = new Network(this.dimensions);\n  }\n\n  createLayer(layerClass: Layers, callback: (layer: Layers) => void | null = null): AbstractNetworkBuilder {\n    const layer: Layers = new layerClass();\n\n    if (typeof callback === \"function\") {\n      callback(layer);\n    }\n\n    if (this.lastLayer === null) {\n      this.firstLayerTransition(layer);\n    } else {\n      layer.transition(this.lastLayer);\n    }\n\n    layer.configure();\n    layer.setBackPropagation(BackpropagationFactory.create(this.lastLayer, layer));\n\n    this.network.addLayer(layer);\n    this.lastLayer = layer;\n\n    return this;\n  }\n\n  getNetwork(): Networks | null {\n    return this.network;\n  }\n\n  abstract firstLayerTransition(layer: Layers): void;\n}\n\nexport { AbstractNetworkBuilder };\n","import { AbstractNetworkBuilder } from \"./AbstractNetworkBuilder\";\nimport { Layers } from \"../../types\";\nimport { Network } from \"../index\";\nimport * as fs from \"fs\";\nimport { LogisticLayer, ReluLayer, SoftmaxLayer, TanhLayer } from \"../Layer\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { JSONLayerData } from \"./types\";\n\nclass NetworkBuilder1D extends AbstractNetworkBuilder {\n  firstLayerTransition(layer: Layers): void {\n    layer.setWidth(this.dimensions[0]);\n  }\n\n  static fromJSON(jsonPath: string): Promise<Network> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(jsonPath, (err, data) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        const json = JSON.parse(data.toString());\n\n        const builder = new NetworkBuilder1D(json[\"dimensions\"]);\n\n        json[\"layers\"].forEach((layerData: JSONLayerData) => {\n          let layerClass = null;\n\n          if (layerData[\"type\"] === \"logistic\") {\n            layerClass = LogisticLayer;\n          } else if (layerData[\"type\"] === \"softmax\") {\n            layerClass = SoftmaxLayer;\n          } else if (layerData[\"type\"] === \"relu\") {\n            layerClass = ReluLayer;\n          } else if (layerData[\"type\"] === \"tanh\") {\n            layerClass = TanhLayer;\n          }\n\n          builder.createLayer(layerClass, (layer) => {\n            // @ts-ignore\n            layer.setSize(layerData[\"size\"] as number);\n          });\n        });\n\n        const network = builder.getNetwork();\n\n        network.getLayers().forEach((layer, i) => {\n          layer.W = new CalcMatrix2D(json[\"layers\"][i][\"weights\"][\"W\"].rows, json[\"layers\"][i][\"weights\"][\"W\"].cols)\n            .allocate()\n            .set(json[\"layers\"][i][\"weights\"][\"W\"].data);\n          layer.b = new CalcMatrix2D(json[\"layers\"][i][\"weights\"][\"b\"].rows, json[\"layers\"][i][\"weights\"][\"b\"].cols)\n            .allocate()\n            .set(json[\"layers\"][i][\"weights\"][\"b\"].data);\n        });\n\n        resolve(network);\n      });\n    });\n  }\n}\n\nexport { NetworkBuilder1D };\n","import { AbstractNetworkBuilder } from \"./AbstractNetworkBuilder\";\nimport { NetworkBuilder1D } from \"./NetworkBuilder1D\";\n\nexport { AbstractNetworkBuilder, NetworkBuilder1D };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { Dimension, Layers } from \"../../types\";\nimport { AbstractBackPropagation } from \"./Backpropagation/AbstractBackpropagation\";\n\nabstract class AbstractLayer {\n  protected width = 0;\n  protected height = 0;\n  protected depth = 0;\n  public previousLayer: Layers | null = null;\n  protected backPropagation: AbstractBackPropagation | null = null;\n\n  setBackPropagation(backPropagation: AbstractBackPropagation): Layers {\n    this.backPropagation = backPropagation;\n    return this;\n  }\n\n  getBackPropagation(): AbstractBackPropagation | null {\n    return this.backPropagation;\n  }\n\n  setWidth(value: number): Layers {\n    this.width = value;\n    return this;\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  setHeight(value: number): Layers {\n    this.height = value;\n    return this;\n  }\n\n  getHeight(): number {\n    return this.height;\n  }\n\n  setDepth(value: number): Layers {\n    this.depth = value;\n    return this;\n  }\n\n  getDepth(): number {\n    return this.depth;\n  }\n\n  abstract getOutputWidth(): number;\n\n  abstract getOutputHeight(): number;\n\n  abstract getOutputDepth(): number;\n\n  abstract configure(): void;\n\n  abstract is1D(): boolean;\n\n  abstract is3D(): boolean;\n\n  transition(previousLayer: Layers): Layers {\n    this.previousLayer = previousLayer;\n    return this;\n  }\n\n  abstract getSize(): Dimension | number;\n\n  abstract activation(value: CalcMatrix2D): CalcMatrix2D;\n\n  abstract getType(): string;\n\n  abstract derivative(delta: CalcMatrix2D): CalcMatrix2D;\n\n  abstract penalty(): number;\n}\n\nexport { AbstractLayer };\n","import { AbstractLayer } from \"./AbstractLayer\";\nimport { Layers } from \"../../types\";\nimport { CalcMatrix2D, CalcScalar } from \"../../Math\";\n\nabstract class AbstractLayer1D extends AbstractLayer {\n  protected depth = 1;\n  public W: CalcMatrix2D;\n  public b: CalcMatrix2D;\n  public A: CalcMatrix2D;\n  public Z: CalcMatrix2D;\n  public gW: CalcMatrix2D;\n  public gb: CalcMatrix2D;\n  public vW: CalcMatrix2D;\n  public sW: CalcMatrix2D;\n  public vb: CalcMatrix2D;\n  public sb: CalcMatrix2D;\n  public dW: CalcMatrix2D;\n  public db: CalcMatrix2D;\n\n  constructor() {\n    super();\n    this.W = new CalcMatrix2D();\n    this.b = new CalcMatrix2D();\n    this.A = new CalcMatrix2D();\n    this.Z = new CalcMatrix2D();\n    this.gW = new CalcMatrix2D();\n    this.gb = new CalcMatrix2D();\n    this.vW = new CalcMatrix2D();\n    this.vb = new CalcMatrix2D();\n    this.sW = new CalcMatrix2D();\n    this.sb = new CalcMatrix2D();\n    this.dW = new CalcMatrix2D();\n    this.db = new CalcMatrix2D();\n  }\n\n  configure(): void {\n    this.W.resize(this.getHeight(), this.getWidth());\n\n    this.W.setRandom(Math.sqrt(6 / this.getWidth()));\n\n    this.b.resize(this.getHeight(), 1).setZeros().add(1.0);\n\n    this.gW.resize(this.getHeight(), this.getWidth());\n    this.gW.setZeros();\n\n    this.gb.resize(this.getHeight(), 1);\n    this.gb.setZeros();\n\n    this.sW.resize(this.getHeight(), this.getWidth());\n    this.sW.setZeros();\n\n    this.sb.resize(this.getHeight(), 1);\n    this.sb.setZeros();\n\n    this.vW.resize(this.getHeight(), this.getWidth());\n    this.vW.setZeros();\n\n    this.vb.resize(this.getHeight(), 1);\n    this.vb.setZeros();\n\n    this.dW.resize(this.getHeight(), this.getWidth());\n    this.dW.setZeros();\n\n    this.db.resize(this.getHeight(), 1);\n    this.db.setZeros();\n  }\n\n  forward(input: CalcMatrix2D): CalcMatrix2D {\n    this.Z = input.forwardPropagation(this.W, this.b);\n    this.A = this.activation(this.Z);\n    return this.A;\n  }\n  is1D(): boolean {\n    return true;\n  }\n\n  is3D(): boolean {\n    return false;\n  }\n\n  transition(previousLayer: Layers): AbstractLayer1D {\n    if (previousLayer.is1D()) {\n      this.setWidth(previousLayer.getSize() as number);\n    } else if (previousLayer.is3D()) {\n      this.setWidth(previousLayer.getOutputWidth() * previousLayer.getOutputHeight() * previousLayer.getOutputDepth());\n    }\n\n    super.transition(previousLayer);\n\n    return this;\n  }\n\n  setSize(value: number): AbstractLayer1D {\n    this.setHeight(value as number);\n\n    return this;\n  }\n\n  getSize(): number {\n    return this.height;\n  }\n\n  getOutputWidth(): number {\n    return this.width;\n  }\n\n  getOutputHeight(): number {\n    return this.height;\n  }\n\n  getOutputDepth(): number {\n    return 1;\n  }\n\n  penalty(): CalcScalar {\n    return this.W.pow(2).sum();\n  }\n}\n\nexport { AbstractLayer1D };\n","import { Layers } from \"../../../types\";\nimport { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractBackPropagation {\n  protected layer: Layers | null = null;\n  protected previousLayer: Layers | null = null;\n\n  constructor(layer: Layers | null, previousLayer: Layers) {\n    this.layer = layer;\n    this.previousLayer = previousLayer;\n  }\n\n  abstract propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D,\n    isLastLayer: boolean,\n  ): CalcMatrix2D;\n}\n","import { AbstractBackPropagation } from \"./AbstractBackpropagation\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { Layers } from \"../../../types\";\nimport { LayerType } from \"../../../types\";\n\nexport class Backpropagation1Dto1D extends AbstractBackPropagation {\n  propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D,\n    isLastLayer: boolean,\n  ): CalcMatrix2D {\n    let dZ = sigma;\n\n    if (isLastLayer && layer.getType() !== LayerType.softmax) {\n      dZ.replace(sigma.multiply(layer.derivative(layer.Z)));\n    }\n\n    const previousActivations = this.previousLayer !== null ? this.previousLayer.A : input;\n    const [gW, gb, dA_prev] = dZ.backwardPropagation(layer.W, previousActivations, regularization, numberOfExamples);\n\n    layer.gW.replace(gW);\n    layer.gb.replace(gb);\n\n    return dA_prev;\n  }\n}\n","import { Layers } from \"../../../types\";\nimport { Backpropagation1Dto1D } from \"./Backpropagation1Dto1D\";\nimport { AbstractBackPropagation } from \"./AbstractBackpropagation\";\n\nexport class BackpropagationFactory {\n  static create(previousLayer: Layers, layer: Layers): AbstractBackPropagation | null {\n    return new Backpropagation1Dto1D(layer, previousLayer);\n  }\n}\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass LogisticLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.logisticForwardPropagation();\n  }\n\n  getType(): LayerType {\n    return LayerType.logistic;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    return delta.logisticBackwardPropagation();\n  }\n}\n\nexport { LogisticLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass ReluLayer extends AbstractLayer1D {\n  private readonly alpha = 0.01;\n\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.calcSync((calc) => {\n      return calc.leakyRelu(this.alpha);\n    });\n  }\n\n  getType(): LayerType {\n    return LayerType.relu;\n  }\n\n  derivative(delta: CalcMatrix2D) {\n    return delta.calcSync((calc) => {\n      return calc.leakyReluBackpropagation(this.alpha);\n    });\n  }\n}\n\nexport { ReluLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass SoftmaxLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.softmax();\n  }\n\n  getType(): LayerType {\n    return LayerType.softmax;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    // When CrossEntropyCost is used with Softmax, the cost function's derivative\n    // already computes dZ (A - Y). We should just pass it through.\n    return delta;\n  }\n}\n\nexport { SoftmaxLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass TanhLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.tanh();\n  }\n\n  getType(): LayerType {\n    return LayerType.tanh;\n  }\n\n  derivative(sigma: CalcMatrix2D): CalcMatrix2D {\n    return sigma.tanhDerivative();\n  }\n}\n\nexport { TanhLayer };\n","import { AbstractLayer } from \"./AbstractLayer\";\nimport { SoftmaxLayer } from \"./Softmax\";\nimport { LogisticLayer } from \"./Logistic\";\nimport { TanhLayer } from \"./Tanh\";\nimport { ReluLayer } from \"./Relu\";\n\nexport { AbstractLayer, SoftmaxLayer, LogisticLayer, TanhLayer, ReluLayer };\n","import { Dimension, Layers } from \"../types\";\nimport { CalcMatrix2D } from \"../Math\";\nimport * as fs from \"fs\";\n\nclass Network {\n  private readonly dimensions: Dimension | null = null;\n  private size = 0;\n  private layers: Layers[] = [];\n\n  constructor(dimensions: Dimension) {\n    this.dimensions = dimensions;\n  }\n\n  addLayer(layer: Layers): Network {\n    this.size++;\n    this.layers.push(layer);\n\n    return this;\n  }\n\n  getLayers(): Layers[] {\n    return this.layers;\n  }\n\n  getLastLayer(): Layers {\n    return this.layers[this.layers.length - 1];\n  }\n\n  forward(input: CalcMatrix2D): CalcMatrix2D {\n    let output = input;\n\n    this.layers.forEach((layer: Layers) => {\n      output = layer.forward(output);\n    });\n\n    return output;\n  }\n\n  backward(X: CalcMatrix2D, regularization: number, sigma: CalcMatrix2D): void {\n    const m = X.cols();\n    let currentSigma = sigma;\n\n    for (let i = this.layers.length - 1; i >= 0; i -= 1) {\n      const layer = this.layers[i];\n      const isLastLayer = i === this.layers.length - 1;\n      currentSigma = layer.getBackPropagation().propagate(X, m, regularization, layer, currentSigma, isLastLayer);\n    }\n  }\n\n  save(path: string): Promise<string> {\n    const resultJSON = {\n      dimensions: this.dimensions,\n      layers: [],\n    };\n\n    this.layers.forEach((layer: Layers) => {\n      resultJSON.layers.push({\n        type: layer.getType(),\n        size: layer.getSize(),\n        weights: {\n          W: { data: [...layer.W.get()], rows: layer.W.rows(), cols: layer.W.cols() },\n          b: { data: [...layer.b.get()], rows: layer.b.rows(), cols: layer.b.cols() },\n        },\n      });\n    });\n\n    const result = JSON.stringify(resultJSON);\n\n    return new Promise((resolve, reject) => {\n      fs.writeFile(path, result, (err) => {\n        if (err) {\n          console.error(err);\n          reject();\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n\nexport { Network };\nexport default Network;\n","import { Network } from \"../index\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Dataset } from \"../../Dataset\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport interface CostResult {\n  cost: number;\n  accuracy: number;\n}\n\nexport interface StepCallbackParameters {\n  iteration: number;\n}\n\nexport abstract class AbstractTrainer {\n  network: Network;\n  optimizer: AbstractOptimizer;\n  costFunction: AbstractCost;\n  regularization = 1e-4;\n  iterations = 1000;\n  learningRate = 0.001;\n  verbose = true;\n  verboseStep = 1;\n  stepCallback = (data: StepCallbackParameters): void => undefined;\n\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    this.network = network;\n    this.optimizer = optimizer;\n    this.costFunction = costFunction;\n  }\n\n  abstract train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer;\n\n  setRegularization(regularization: number): AbstractTrainer {\n    this.regularization = regularization;\n    return this;\n  }\n\n  setIterations(iterations: number): AbstractTrainer {\n    this.iterations = iterations;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractTrainer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  setVerbose(verbose: boolean): AbstractTrainer {\n    this.verbose = verbose;\n    return this;\n  }\n\n  setVerboseStep(verboseStep: number): AbstractTrainer {\n    this.verboseStep = verboseStep;\n    return this;\n  }\n\n  setStepCallback(stepCallback: (data: StepCallbackParameters) => void): AbstractTrainer {\n    this.stepCallback = stepCallback;\n    return this;\n  }\n\n  cost(predictions: CalcMatrix2D, correctOutput: CalcMatrix2D): CostResult {\n    const miniBatchSize = correctOutput.cols();\n    let cost = this.costFunction.loss(correctOutput, predictions).get()[0];\n\n    if (this.regularization > 0) {\n      let penalty = 0;\n      this.network.getLayers().forEach((layer) => {\n        const p = layer.penalty();\n        penalty += p.get()[0];\n        p.destroy();\n      });\n      cost += (this.regularization / (2 * miniBatchSize)) * penalty;\n    }\n\n    let correctPredictions = 0;\n    for (let i = 0; i < miniBatchSize; i += 1) {\n      const predictionCol = predictions.col(i);\n      const outputCol = correctOutput.col(i);\n      const predictionIndex = predictionCol.maxCoeff();\n      const outputIndex = outputCol.maxCoeff();\n\n      if (predictionIndex.get()[0] === outputIndex.get()[0]) {\n        correctPredictions++;\n      }\n\n      predictionCol.destroy();\n      outputCol.destroy();\n      predictionIndex.destroy();\n      outputIndex.destroy();\n    }\n\n    const accuracy = (correctPredictions / miniBatchSize) * 100.0;\n\n    return {\n      cost,\n      accuracy,\n    };\n  }\n}\n","import { AbstractTrainer } from \"./AbstractTrainer\";\nimport { Dataset } from \"../../Dataset\";\nimport { round } from \"../../Math\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Network } from \"../index\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport class BatchTrainer extends AbstractTrainer {\n  private _batchSize: number = 100;\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    super(network, optimizer, costFunction);\n  }\n\n  public setBatchSize(size: number) {\n    this._batchSize = size;\n    return this;\n  }\n\n  train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer {\n    const numberOfExamples = inputDataset.getNumberOfExamples();\n    let t = 0;\n\n    this.optimizer.setBatchSize(this._batchSize);\n    this.optimizer.setLearningRate(this.learningRate);\n\n    let startTime = new Date().getTime();\n\n    for (let i = 0; i < this.iterations; i += 1) {\n      for (let offset = 0; offset < numberOfExamples; offset += this._batchSize) {\n        const input = inputDataset.getBatch(offset, Math.min(numberOfExamples - offset, this._batchSize));\n        const output = outputDataset.getBatch(offset, Math.min(numberOfExamples - offset, this._batchSize));\n\n        const predictions = this.network.forward(input);\n        const sigma = this.costFunction.derivative(output, predictions, this.network.getLastLayer());\n\n        this.network.backward(input, this.regularization, sigma);\n\n        this.optimizer.setT(++t);\n\n        this.network.getLayers().forEach((layer) => {\n          this.optimizer.optimize(layer);\n        });\n\n        input.destroy();\n        output.destroy();\n        predictions.destroy();\n        sigma.destroy();\n      }\n\n      if (this.verbose && (i + 1) % this.verboseStep === 0) {\n        const currentResult = this.cost(this.network.forward(inputDataset.data), outputDataset.data);\n        const endTime = new Date().getTime();\n\n        console.log(\n          `Iteration: ${i + 1} | Cost: ${round(currentResult.cost, 5)} | Accuracy: ${round(\n            currentResult.accuracy,\n            2,\n          )}% | Time: ${(endTime - startTime) / 1000} s.`,\n        );\n\n        this.stepCallback({\n          iteration: i,\n        });\n\n        startTime = new Date().getTime();\n      }\n    }\n\n    return this;\n  }\n}\n","import { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractCost {\n  abstract loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number;\n  abstract derivative(\n    correctOutput: CalcMatrix2D,\n    predictions: CalcMatrix2D,\n    activationDerivative: CalcMatrix2D,\n  ): CalcMatrix2D;\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { AbstractLayer } from \"../../Layer\";\nimport { LayerType } from \"../../../types\";\n\nexport class CrossEntropyCost extends AbstractCost {\n  private readonly epsilon = 1e-8;\n\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    return new CalcMatrix2D().crossEntropyLoss(correctOutput, predictions, this.epsilon);\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    if (lastLayer.getType() === LayerType.softmax) {\n      // For Softmax, we compute dZ directly\n      return predictions.subtract(correctOutput);\n    }\n\n    // For other layers (like Sigmoid), we calculate dA\n    return new CalcMatrix2D().crossEntropyDerivative(correctOutput, predictions, this.epsilon);\n  }\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { AbstractLayer } from \"../../Layer\";\n\nexport class MeanSquaredErrorCost extends AbstractCost {\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    const miniBatchSize = correctOutput.cols();\n    const error = predictions.subtract(correctOutput);\n    const cost = error.pow(2).sum().get()[0];\n    return cost / (2 * miniBatchSize);\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    return predictions.subtract(correctOutput);\n  }\n}\n","import { Layers } from \"../../../types\";\n\nexport abstract class AbstractOptimizer {\n  protected batchSize = 0;\n  protected t = 0;\n  protected learningRate = 0;\n\n  setBatchSize(batchSize: number): AbstractOptimizer {\n    this.batchSize = batchSize;\n    return this;\n  }\n\n  setT(t: number): AbstractOptimizer {\n    this.t = t;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractOptimizer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  abstract optimize(layer: Layers): void;\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerAdagrad extends AbstractOptimizer {\n  private epsilon = 1e-8;\n\n  optimize(layer: Layers): void {\n    this.adagrad(layer, this.learningRate);\n  }\n\n  adagrad(layer: Layers, learningRate: number): void {\n    layer.dW = layer.dW.add(layer.gW.pow(2));\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate).divide(layer.dW.add(this.epsilon).sqrt()));\n\n    layer.db = layer.db.add(layer.gb.pow(2));\n    layer.b = layer.b.subtract(layer.gb.multiply(learningRate).divide(layer.db.add(this.epsilon).sqrt()));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\nimport { CalcMatrix2D } from \"../../../Math/\";\n\nexport class OptimizerAdam extends AbstractOptimizer {\n  private readonly beta1 = 0.9;\n  private readonly beta2 = 0.999;\n  private readonly epsilon = 1e-8;\n\n  optimize(layer: Layers): void {\n    const { W, b, gW, gb, vW, vb, sW, sb } = layer;\n    const { learningRate, beta1, beta2, epsilon, t } = this;\n\n    const updatedMatrices = CalcMatrix2D.runAdamOptimizer(\n      W,\n      b,\n      gW,\n      gb,\n      vW,\n      vb,\n      sW,\n      sb,\n      learningRate,\n      beta1,\n      beta2,\n      epsilon,\n      t,\n    );\n\n    layer.W.replace(updatedMatrices.W);\n    layer.b.replace(updatedMatrices.b);\n    layer.vW.replace(updatedMatrices.vW);\n    layer.vb.replace(updatedMatrices.vb);\n    layer.sW.replace(updatedMatrices.sW);\n    layer.sb.replace(updatedMatrices.sb);\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerGradientDescent extends AbstractOptimizer {\n  optimize(layer: Layers): void {\n    this.gradientDescent(layer, this.learningRate);\n  }\n\n  gradientDescent(layer: Layers, learningRate: number): void {\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.gb.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerMomentum extends AbstractOptimizer {\n  protected beta = 0.9;\n\n  optimize(layer: Layers): void {\n    this.momentum(layer, this.learningRate);\n  }\n\n  setBeta(beta: number): OptimizerMomentum {\n    this.beta = beta;\n    return this;\n  }\n\n  momentum(layer: Layers, learningRate: number): void {\n    layer.vW = layer.gW.multiply(this.beta).add(layer.gW.multiply(1 - this.beta));\n    layer.vb = layer.gb.multiply(this.beta).add(layer.gb.multiply(1 - this.beta));\n\n    layer.W = layer.W.subtract(layer.vW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.vb.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerRMSProp extends AbstractOptimizer {\n  protected alpha = 1e-3;\n  protected beta = 0.9;\n\n  setBeta(beta: number): OptimizerRMSProp {\n    this.beta = beta;\n    return this;\n  }\n\n  setAlpha(alpha: number): OptimizerRMSProp {\n    this.alpha = alpha;\n    return this;\n  }\n\n  optimize(layer: Layers): void {\n    this.rmsprop(layer, this.learningRate, this.alpha, this.beta);\n  }\n\n  rmsprop(layer: Layers, learningRate: number, alpha: number, beta: number): void {\n    layer.sW = layer.sW.multiply(beta).add(layer.gW.pow(2).multiply(1 - beta));\n    layer.sb = layer.sb.multiply(beta).add(layer.gb.pow(2).multiply(1 - beta));\n\n    layer.W = layer.W.subtract(layer.gW.multiply(alpha).divide(layer.sW.sqrt().add(1e-8)));\n    layer.b = layer.b.subtract(layer.gb.multiply(alpha).divide(layer.sb.sqrt().add(1e-8)));\n  }\n}\n","import { OptimizerAdam } from \"./OptimizerAdam\";\nimport { OptimizerGradientDescent } from \"./OptimizerGradientDescent\";\nimport { OptimizerAdagrad } from \"./OptimizerAdagrad\";\nimport { OptimizerMomentum } from \"./OptimizerMomentum\";\nimport { OptimizerRMSProp } from \"./OptimizerRMSProp\";\n\nexport { OptimizerAdam, OptimizerGradientDescent, OptimizerAdagrad, OptimizerMomentum, OptimizerRMSProp };\n","import { BatchTrainer } from \"./BatchTrainer\";\n\nexport { BatchTrainer };\nexport default { BatchTrainer };\n","import { Network } from \"./Network\";\n\ntype Networks = Network;\n\nexport { Network, Networks };\n","import Math from \"./Math\";\nimport { NetworkBuilder1D } from \"./Network/Builder\";\nimport { SoftmaxLayer, LogisticLayer, ReluLayer, TanhLayer } from \"./Network/Layer\";\nimport {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n} from \"./Network/Trainer/Optimizer\";\nimport Trainer from \"./Network/Trainer\";\nimport { MeanSquaredErrorCost } from \"./Network/Trainer/Cost/MeanSquaredErrorCost\";\nimport { CrossEntropyCost } from \"./Network/Trainer/Cost/CrossEntropyCost\";\nimport os from \"os\";\nimport process from \"process\";\nimport path from \"path\";\nimport Module from \"module\";\n\nconst NetworkBuilder = { NetworkBuilder1D };\nconst Layer = {\n  SoftmaxLayer,\n  LogisticLayer,\n  ReluLayer,\n  TanhLayer,\n};\nconst Optimizer = {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n};\nconst Cost = {\n  MeanSquaredErrorCost,\n  CrossEntropyCost,\n};\n\nimport { Dataset as DatasetDataset } from \"./Dataset\";\nimport { DatasetBuilder as DatasetBuilderBuilder, DatasetVocabularyBuilder } from \"./Dataset/Builder\";\nimport { SourceCSV } from \"./Dataset/Builder/Source\";\nimport { TextFile } from \"./Dataset/Builder/VocabularySource\";\n\nimport {\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  SplitDatasetModifier,\n} from \"./Dataset/Modifier\";\n\nconst DatasetBuilder = {\n  DatasetBuilder: DatasetBuilderBuilder,\n  DatasetVocabularyBuilder,\n};\nconst Dataset = {\n  Dataset: DatasetDataset,\n};\nconst DatasetModifier = {\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  SplitDatasetModifier,\n};\nconst DatasetBuilderSource = {\n  DatasetBuilderSourceCSV: SourceCSV,\n  DatasetVocabularyBuilderSourceTextFile: TextFile,\n};\n\nlet native = null;\n\nconst load = () => {\n  if (native) return native;\n\n  const addonPath = path.resolve(__dirname, \"../build/Release/node_native_memory.node\");\n\n  const m = new Module(addonPath, null);\n  m.filename = addonPath;\n\n  process.dlopen(m, addonPath, os.constants.dlopen.RTLD_NOW | os.constants.dlopen.RTLD_GLOBAL);\n\n  native = m.exports;\n  native.setModulePath(path.resolve(__dirname, \"../\"));\n\n  return native;\n};\n\nexport {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n  load,\n};\nexport default {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n  load,\n};\n","import { SoftmaxLayer, LogisticLayer, TanhLayer, ReluLayer } from \"./Network/Layer\";\nimport { AbstractLayer1D } from \"./Network/Layer/AbstractLayer1D\";\n\nexport type Dimension = [number] | [number, number, number];\n\nexport enum LayerType {\n  logistic = \"logistic\",\n  softmax = \"softmax\",\n  tanh = \"tanh\",\n  relu = \"relu\",\n  purelin = \"purelin\",\n}\n\nexport type Layers = LogisticLayer | SoftmaxLayer | TanhLayer | ReluLayer | AbstractLayer1D;\nexport type Layers1D = LogisticLayer | SoftmaxLayer | TanhLayer | ReluLayer;\n","module.exports = require(\"csvtojson\");","module.exports = require(\"fs\");","module.exports = require(\"module\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"process\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/typescript/main.ts\");\n",""],"names":["DatasetBuilder","_classCallCheck","_createClass","key","value","fromSource","sourcePromise","params","arguments","length","undefined","Promise","resolve","then","source","dataset","parse","DatasetVocabulary","DatasetVocabularyBuilder","str","AbstractSource","CalcMatrix2D","csvtojson","Dataset","SourceCSV","_AbstractSource","data","_this","_callSuper","_defineProperty","_inherits","_this$data$","numberOfExamples","exampleSize","i","forEach","push","Number","fromMatrix","allocate","set","fromLocalFile","path","noheader","trim","output","fromFile","arr","AbstractVocabularySource","fs","TextFile","_AbstractVocabularySo","reject","readFile","err","buffer","toString","exampleAt","index","col","getNumberOfExamples","cols","getExampleSize","rows","getBatch","offset","batchSize","block","m","AbstractModifier","MinMaxScalingDatasetModifier","_AbstractModifier","apply","replace","minMax","MissingDataDatasetModifier","_len","args","Array","_key","concat","rowsToFill","correctExamplesCount","sum","valueToFill","exampleIndex","example","row","isNaN","modificationType","_ref","setModificationType","type","ShuffleDatasetModifier","SplitDatasetModifier","getDevice","Calc","setResult","result","_result","setParams","_params","execSync","module","kernel","exec","execAsync","async","device","loadModule","fn","loadFunction","input","execute","map","getMemory","e","console","error","get","CalcElement","CalcColVector","_CalcElement","isColVector","fromMemory","memory","_memory","_allocated","CalcScalar","width","height","depth","_dims","_device","dims","count","_this$_dims","_slicedToArray","resize","alloc","setWidth","setHeight","setDepth","Float64Array","isScalar","isRowVector","isMatrix2D","isMatrix3D","setZeros","calcSync","calc","setRandom","number","setMax","setMin","reluBackpropagation","pow","reluForwardPropagation","getCalcSandbox","_call","nb","callback","calcAsync","_this2","Symbol","dispose","free","destroy","copyFrom","other","CalcRowVector","maxCoeff","add","forwardPropagation","w","b","backwardPropagation","a_prev","regularization","num_examples","transpose","logisticForwardPropagation","logisticBackwardPropagation","multiply","divide","mOrNumber","subtract","crossEntropyLoss","correctOutput","predictions","epsilon","crossEntropyDerivative","softmax","tanh","tanhDerivative","rowOffset","colOffset","numRows","numCols","softmaxDerivative","baseSandbox","_superPropGet","that","_objectSpread","_epsilon","_rowOffset","_colOffset","_numRows","_numCols","gW","gb","dA_prev","_regularization","_num_examples","fraction","sqrt","rowwiseSum","_m","log","num","dot","logMinusOne","minusOne","conjugate","leakyRelu","alpha","leakyReluBackpropagation","min","max","img2col","filterSize","stride","padding","adamOptimize","W","vW","vb","sW","sb","learningRate","beta1","beta2","t","updatedW","updatedB","updatedVW","updatedVB","updatedSW","updatedSB","_learningRate","_beta1","_beta2","_t","clone","runAdamOptimizer","dummy","CalcMatrix3D","setDevice","load","currentDevice","native","Device","CPU","round","decimalPlaces","Math","Network","BackpropagationFactory","AbstractNetworkBuilder","dimension","dimensions","network","createLayer","layerClass","layer","lastLayer","firstLayerTransition","transition","configure","setBackPropagation","create","addLayer","getNetwork","LogisticLayer","ReluLayer","SoftmaxLayer","TanhLayer","NetworkBuilder1D","_AbstractNetworkBuild","fromJSON","jsonPath","json","JSON","builder","layerData","setSize","getLayers","AbstractLayer","backPropagation","getBackPropagation","getWidth","getHeight","getDepth","previousLayer","AbstractLayer1D","_AbstractLayer","A","Z","dW","db","forward","activation","is1D","is3D","getSize","getOutputWidth","getOutputHeight","getOutputDepth","penalty","AbstractBackPropagation","LayerType","Backpropagation1Dto1D","_AbstractBackPropagat","propagate","sigma","isLastLayer","dZ","getType","derivative","previousActivations","_dZ$backwardPropagati","_dZ$backwardPropagati2","_AbstractLayer1D","logistic","delta","relu","_this3","size","layers","getLastLayer","backward","X","currentSigma","save","resultJSON","weights","_toConsumableArray","stringify","writeFile","AbstractTrainer","optimizer","costFunction","setRegularization","setIterations","iterations","setLearningRate","setVerbose","verbose","setVerboseStep","verboseStep","setStepCallback","stepCallback","cost","miniBatchSize","loss","p","correctPredictions","predictionCol","outputCol","predictionIndex","outputIndex","accuracy","BatchTrainer","_AbstractTrainer","setBatchSize","_batchSize","train","inputDataset","outputDataset","startTime","Date","getTime","setT","optimize","currentResult","endTime","iteration","AbstractCost","CrossEntropyCost","_AbstractCost","MeanSquaredErrorCost","AbstractOptimizer","OptimizerAdagrad","_AbstractOptimizer","adagrad","OptimizerAdam","updatedMatrices","OptimizerGradientDescent","gradientDescent","OptimizerMomentum","momentum","setBeta","beta","OptimizerRMSProp","setAlpha","rmsprop","Trainer","os","process","Module","NetworkBuilder","Layer","Optimizer","Cost","DatasetDataset","DatasetBuilderBuilder","DatasetModifier","DatasetBuilderSource","DatasetBuilderSourceCSV","DatasetVocabularyBuilderSourceTextFile","addonPath","__dirname","filename","dlopen","constants","RTLD_NOW","RTLD_GLOBAL","exports","setModulePath"],"sourceRoot":""}