{"version":3,"file":"impulse-ml.dev.js","mappings":"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","sources":["webpack://impulse-math-device-ts/./build/Release/node_native_memory.node","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/DatasetVocabularyBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/AbstractSource.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/SourceCSV.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/Source/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/AbstractVocabularySource.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/TextFile.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/VocabularySource/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Builder/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Dataset.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/DatasetVocabulary.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/AbstractModifier.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Callback.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Category.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MinMaxScaling.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/MissingData.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Shuffle.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/Split.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/Modifier/index.ts","webpack://impulse-math-device-ts/./src/typescript/Dataset/index.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Calc.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcColVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcElement.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix2D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcMatrix3D.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcRowVector.ts","webpack://impulse-math-device-ts/./src/typescript/Math/CalcScalar.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Computation/index.ts","webpack://impulse-math-device-ts/./src/typescript/Math/Computation/utils.ts","webpack://impulse-math-device-ts/./src/typescript/Math/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/AbstractNetworkBuilder.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/NetworkBuilder1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Builder/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/AbstractLayer1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/AbstractBackpropagation.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/Backpropagation1Dto1D.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Backpropagation/BackpropagationFactory.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Logistic.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Relu.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Softmax.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/Tanh.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Layer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Network.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/AbstractTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/BatchTrainer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/AbstractCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/CrossEntropyCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Cost/MeanSquaredErrorCost.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/AbstractOptimizer.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdagrad.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerAdam.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerGradientDescent.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerMomentum.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/OptimizerRMSProp.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/Optimizer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/Trainer/index.ts","webpack://impulse-math-device-ts/./src/typescript/Network/index.ts","webpack://impulse-math-device-ts/./src/typescript/types.ts","webpack://impulse-math-device-ts/external commonjs2 \"csvtojson\"","webpack://impulse-math-device-ts/external node-commonjs \"fs\"","webpack://impulse-math-device-ts/external node-commonjs \"path\"","webpack://impulse-math-device-ts/webpack/bootstrap","webpack://impulse-math-device-ts/webpack/runtime/compat get default export","webpack://impulse-math-device-ts/webpack/runtime/define property getters","webpack://impulse-math-device-ts/webpack/runtime/hasOwnProperty shorthand","webpack://impulse-math-device-ts/webpack/runtime/make namespace object","webpack://impulse-math-device-ts/webpack/runtime/node module decorator","webpack://impulse-math-device-ts/webpack/runtime/publicPath","webpack://impulse-math-device-ts/./src/typescript/main.ts"],"sourcesContent":["\ntry {\n  process.dlopen(module, require(\"path\").join(__dirname, __webpack_public_path__, \"8c0d713d94b87197578f9913475daeeb.node\"));\n} catch (error) {\n  throw new Error('node-loader:\\n' + error);\n}\n","import { Dataset } from \"../index\";\nimport { AbstractSource } from \"./Source/AbstractSource\";\n\ninterface ParametersInterface {\n  transpose?: boolean;\n}\n\nexport class DatasetBuilder {\n  static fromSource(sourcePromise: Promise<AbstractSource>, params: ParametersInterface = {}): Promise<Dataset> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const matrix = source.parse();\n        const numberOfExamples = matrix.rows();\n        const exampleSize = matrix.cols();\n\n        const dataset = new Dataset(exampleSize, numberOfExamples, matrix);\n        resolve(dataset);\n      });\n    });\n  }\n}\n","import { AbstractVocabularySource } from \"./VocabularySource/AbstractVocabularySource\";\nimport { DatasetVocabulary } from \"../DatasetVocabulary\";\n\nexport class DatasetVocabularyBuilder {\n  static fromSource(sourcePromise: Promise<AbstractVocabularySource>): Promise<DatasetVocabulary> {\n    return new Promise((resolve) => {\n      sourcePromise.then((source) => {\n        const str = source.parse();\n        resolve(new DatasetVocabulary(str));\n      });\n    });\n  }\n}\n","import { CalcMatrix2D } from \"../../../Math/CalcMatrix2D\";\n\nexport abstract class AbstractSource {\n  abstract parse(): CalcMatrix2D;\n}\n","import { AbstractSource } from \"./AbstractSource\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport * as csvtojson from \"csvtojson\";\n\nexport class SourceCSV extends AbstractSource {\n  protected data: number[][] | string[][] | null = null;\n\n  constructor(data: number[][] | string[][]) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<SourceCSV> {\n    return new Promise((resolve) => {\n      csvtojson({\n        noheader: true,\n        output: \"csv\",\n      })\n        .fromFile(path)\n        .then((arr) => {\n          resolve(new SourceCSV(arr));\n        });\n    });\n  }\n\n  parse(): CalcMatrix2D {\n    const numberOfExamples = this.data.length;\n    const exampleSize = this.data[0]?.length;\n\n    if (typeof numberOfExamples !== \"undefined\" && typeof exampleSize !== \"undefined\") {\n      let data = [];\n      for (let i = 0; i < numberOfExamples; i += 1) {\n        const newData = [];\n        this.data[i].forEach((value, index) => {\n          newData.push(Number(value));\n        });\n        data = [...data, ...newData];\n      }\n      return new CalcMatrix2D(numberOfExamples, exampleSize).allocate().set(new Float64Array(data));\n    }\n\n    return new CalcMatrix2D(0, 0);\n  }\n}\n","import { SourceCSV } from \"./SourceCSV\";\n\nexport { SourceCSV };\n","export abstract class AbstractVocabularySource {\n  abstract parse(): string;\n}\n","import * as fs from \"fs\";\nimport { AbstractVocabularySource } from \"./AbstractVocabularySource\";\n\nexport class TextFile extends AbstractVocabularySource {\n  protected data: string = \"\";\n\n  constructor(data: string) {\n    super();\n    this.data = data;\n  }\n\n  static fromLocalFile(path: string): Promise<TextFile> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(path, (err, buffer) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n\n        resolve(new TextFile(buffer.toString(\"utf-8\")));\n      });\n    });\n  }\n\n  parse(): string {\n    return this.data;\n  }\n}\n","import { TextFile } from \"./TextFile\";\n\nexport { TextFile };\n","import { DatasetBuilder } from \"./DatasetBuilder\";\nimport { DatasetVocabularyBuilder } from \"./DatasetVocabularyBuilder\";\n\nexport { DatasetBuilder, DatasetVocabularyBuilder };\n","import { CalcMatrix2D } from \"../Math/CalcMatrix2D\";\n\nexport class Dataset {\n  public exampleSize = 0;\n  public numberOfExamples = 0;\n  public data: CalcMatrix2D | null = null;\n\n  constructor(exampleSize: number = null, numberOfExamples: number = null, data: CalcMatrix2D = null) {\n    this.exampleSize = exampleSize;\n    this.numberOfExamples = numberOfExamples;\n\n    if (data) {\n      this.data = data;\n    }\n  }\n\n  static fromMatrix(m: CalcMatrix2D): Dataset {\n    const instance = new Dataset();\n    instance.exampleSize = m.rows;\n    instance.numberOfExamples = m.cols;\n    instance.data = m;\n\n    return instance;\n  }\n\n  exampleAt(index: number): CalcMatrix2D | null {\n    return this.data.row(index).transpose();\n  }\n\n  getNumberOfExamples(): number {\n    return this.data.rows();\n  }\n\n  getExampleSize(): number {\n    return this.data.cols();\n  }\n\n  getBatch(offset: number, batchSize: number): Dataset {\n    const data = this.data.block(0, offset, this.data.rows, batchSize);\n    return Dataset.fromMatrix(data);\n  }\n\n  /*insertColumnAfter(column, size = 1) {\n    const oldData = this.data.copy();\n\n    this.exampleSize = this.data.rows + size;\n    this.data.resize(this.data.rows + size, this.data.cols);\n\n    for (let row = 0; row < this.data.rows; row += 1) {\n      for (let col = 0; col < this.data.cols; col += 1) {\n        if (row <= column) {\n          this.data.data[row][col] = oldData.data[row][col];\n        } else if (row > column && row <= column + size) {\n          this.data.data[row][col] = undefined;\n        } else if (row > column + size) {\n          this.data.data[row][col] = oldData.data[row - size][col];\n        }\n      }\n    }\n  }*/\n}\n","import { CalcMatrix2D } from \"../Math/CalcMatrix2D\";\n\nexport class DatasetVocabulary {\n  /*public vocabularySize = 0;\npublic dataSize = 0;\npublic data: string = \"\";\npublic chars: string[];\n\nconstructor(str: string) {\n  this.data = str.toLowerCase();\n  const chars = [...new Set(this.data.split(\"\").sort())];\n\n  this.chars = chars;\n  this.dataSize = this.data.length;\n  this.vocabularySize = chars.length;\n}\n\ngetExamples(): string[] {\n  return this.data\n    .replace(/\\n+/, \"\\n\")\n    .split(\"\\n\")\n    .map((example: string) => {\n      return example + \"\\n\";\n    });\n}\n\ngetVocabularySize(): number {\n  return this.vocabularySize;\n}\n\ngetCharsLength(): number {\n  return this.chars.length;\n}\n\ngetCharIndices(): Object {\n  const result = {};\n  this.chars.forEach((char, i) => {\n    result[char] = i;\n  });\n  return result;\n}\n\nbuildData(tx: number = 40, stride: number = 3) {\n  const X = [];\n  const Y = [];\n\n  for (let i = 0; i < this.data.length - tx; i += stride) {\n    X.push(this.data.substr(i, tx));\n    Y.push(this.data[i + tx]);\n  }\n\n  return [X, Y];\n}\n\nvectorization(X: string[], Y: string[], nx: number = 40): [Matrix[], Matrix] {\n  const m = X.length;\n  const x = new Array(m);\n  const chars = this.getCharIndices();\n  const y = new Matrix(m, this.chars.length).setZeros();\n  let xIndex = 0;\n  let rowIndex = 0;\n\n  X.forEach((sentence: string, _m) => {\n    x[_m] = new Matrix(sentence.length, this.chars.length).setZeros();\n    sentence.split(\"\").forEach((char, t) => {\n      x[_m].data[t][chars[char]] = 1;\n      rowIndex++;\n    });\n    xIndex++;\n    rowIndex = 0;\n\n    y.data[_m][chars[Y[_m]]] = 1;\n  });\n\n  return [x, y];\n}\n\ngetChars(): string[] {\n  return this.chars;\n}\n\ngetExampleX(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}\n\ngetExampleY(exampleIndex: number): Matrix {\n  const example = this.getExamples()[exampleIndex];\n  const data = [];\n  example.split(\"\").forEach((ch, row) => {\n    data[row] = [this.getCharIndices()[ch]];\n  });\n  return Matrix.from(data);\n}*/\n}\n","import { Dataset } from \"../Dataset\";\n\nexport abstract class AbstractModifier {\n  protected dataset: Dataset = null;\n\n  constructor(dataset: Dataset) {\n    this.dataset = dataset;\n  }\n\n  abstract apply(dataset: Dataset): Dataset | Array<Dataset>;\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\nimport { Dataset } from \"../Dataset\";\n\nexport class CallbackDatasetModifier extends AbstractModifier {\n  /*protected callback: (example: CalcMatrix2D) => CalcMatrix2D = (example) => example;\n\n  apply(): Dataset {\n    for (let exampleIndex = 0; exampleIndex < this.dataset.getNumberOfExamples(); exampleIndex += 1) {\n      const example = this.callback(this.dataset.exampleAt(exampleIndex));\n      for (let row = 0; row < this.dataset.data.rows; row += 1) {\n        if (example) {\n          this.dataset.data.data[row][exampleIndex] = example.data[row][0];\n        }\n      }\n    }\n    return this.dataset;\n  }\n\n  setCallback(callback: (example: Matrix2D) => Matrix2D): CallbackDatasetModifier {\n    this.callback = callback;\n    return this;\n  }*/\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class CategoryDatasetModifier extends AbstractModifier {\n  protected columns: Array<number>;\n\n  constructor(columns: Array<number>) {\n    super(null);\n    this.columns = columns;\n  }\n\n  apply(dataset: Dataset): Dataset {\n    let size = 0;\n    let _dataset = dataset;\n\n    this.columns.sort().forEach((column) => {\n      let [dataset, _size] = this.applyForColumn(_dataset, column + size);\n      // @ts-ignore\n      size += _size;\n      _dataset = dataset;\n    });\n    return dataset;\n  }\n\n  applyForColumn(dataset: Dataset, column: number): [Dataset, number] {\n    const example = dataset.data.row(column);\n    let values = [];\n\n    for (let row = 0; row < example.rows; row += 1) {\n      values.push(example.value(row, 0));\n    }\n\n    values = values.filter((value, index, self) => {\n      return self.indexOf(value) === index;\n    });\n\n    dataset.insertColumnAfter(column, values.length - 1);\n\n    for (let col = 0; col < dataset.data.cols; col += 1) {\n      const oldValue = dataset.data.data[column][col];\n      let index = 0;\n      for (let row = 0; row < dataset.data.rows; row += 1) {\n        if (row >= column && row < column + values.length) {\n          if (index === values.indexOf(oldValue)) {\n            dataset.data.data[row][col] = 1;\n          } else {\n            dataset.data.data[row][col] = 0;\n          }\n          index += 1;\n        }\n      }\n    }\n\n    return [dataset, values.length - 1];\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MinMaxScalingDatasetModifier extends AbstractModifier {\n  apply(dataset: Dataset): Dataset {\n    const newData = dataset.data.minMax();\n    dataset.data = newData;\n    return dataset;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\n\nexport class MissingDataDatasetModifier extends AbstractModifier {\n  protected modificationType = \"mean\";\n\n  apply(dataset: Dataset): Dataset {\n    const rowsToFill = [];\n    let correctExamplesCount = 0;\n    let sum = 0;\n    let valueToFill = 0;\n\n    for (let exampleIndex = 0; exampleIndex < dataset.getNumberOfExamples(); exampleIndex += 1) {\n      const example = dataset.exampleAt(exampleIndex);\n      for (let row = 0; row < dataset.getExampleSize(); row += 1) {\n        if (isNaN(example.data[row][0]) || typeof example.data[row][0] !== \"number\") {\n          rowsToFill.push({\n            row,\n            col: example,\n          });\n        } else {\n          sum += example.data[row][0];\n          correctExamplesCount++;\n        }\n      }\n    }\n\n    if (this.modificationType === \"mean\") {\n      valueToFill = sum / correctExamplesCount;\n    }\n\n    rowsToFill.forEach(({ row, col }) => {\n      dataset.data.data[row][col] = valueToFill;\n    });\n\n    return dataset;\n  }\n\n  setModificationType(type: string): MissingDataDatasetModifier {\n    this.modificationType = type;\n    return this;\n  }\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class ShuffleDatasetModifier extends AbstractModifier {\n  /*public sortList: number[] = [];\n\n  constructor(dataset: Dataset) {\n    super(dataset);\n  }\n\n  apply(dataset: Dataset): Dataset {\n    return dataset;\n    let index = 0;\n    const data = Matrix.from(\n      dataset.data.transpose().data.sort((exampleA: number[], exampleB: number[]) => {\n        if (typeof this.sortList[index] === \"undefined\") {\n          // first run\n          this.sortList[index] = Math.random() - 0.5;\n        }\n        index += 1;\n        return this.sortList[index - 1];\n      })\n    ).transpose().data;\n    return new Dataset(dataset.getExampleSize(), dataset.getNumberOfExamples(), data);\n}*/\n}\n","import { AbstractModifier } from \"./AbstractModifier\";\nimport { Dataset } from \"../Dataset\";\nimport { CalcMatrix2D } from \"../../Math/CalcMatrix2D\";\n\nexport class SplitDatasetModifier extends AbstractModifier {\n  /*protected columns: Array<number>;\n\n  constructor(columns: Array<number>) {\n    super(null);\n    this.columns = columns.sort();\n  }\n\n  apply(dataset: Dataset): Array<Dataset> {\n    return [];\n    /*const inputData = [];\n    const outputData = [];\n\n    for (let col = 0; col < dataset.getNumberOfExamples(); col += 1) {\n      const example = dataset.exampleAt(col);\n      for (let row = 0, _inputIndex = 0, _outputIndex = 0; row < dataset.exampleSize; row += 1) {\n        if (this.columns.includes(row)) {\n          if (!inputData[_inputIndex]) {\n            inputData[_inputIndex] = [];\n          }\n          inputData[_inputIndex][col] = example.data[row][0];\n          _inputIndex += 1;\n        } else {\n          if (!outputData[_outputIndex]) {\n            outputData[_outputIndex] = [];\n          }\n          outputData[_outputIndex][col] = example.data[row][0];\n          _outputIndex += 1;\n        }\n      }\n    }\n\n    const newInputData = Matrix.from(inputData).transpose().data;\n    const newOutputData = Matrix.from(outputData).transpose().data;\n\n    const inputDataset = new Dataset(newInputData[0].length, newInputData.length, newInputData);\n    const outputDataset = new Dataset(newOutputData[0].length, newOutputData.length, newOutputData);\n\n    return [inputDataset, outputDataset];\n}*/\n}\n","import { CallbackDatasetModifier } from \"./Callback\";\nimport { MinMaxScalingDatasetModifier } from \"./MinMaxScaling\";\nimport { MissingDataDatasetModifier } from \"./MissingData\";\nimport { ShuffleDatasetModifier } from \"./Shuffle\";\nimport { CategoryDatasetModifier } from \"./Category\";\nimport { SplitDatasetModifier } from \"./Split\";\n\nexport {\n  CallbackDatasetModifier,\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  CategoryDatasetModifier,\n  SplitDatasetModifier,\n};\n","import { Dataset } from \"./Dataset\";\n\nexport { Dataset };\n","import { CalcElement } from \"./CalcElement\";\nimport { getDevice } from \"./Computation\";\n\nexport class Calc {\n  private _result: Array<CalcElement> | null = null;\n  private _params: Array<CalcElement> | null = null;\n\n  public static get() {\n    return new Calc();\n  }\n\n  public setResult(result: Array<CalcElement>) {\n    this._result = result;\n    return this;\n  }\n\n  public setParams(params: Array<CalcElement>) {\n    this._params = params;\n    return this;\n  }\n\n  public execSync(module: string, kernel: string) {\n    this.exec(module, kernel)(this._params, this._result);\n    return this;\n  }\n\n  /**\n   * Note: This function is not truly asynchronous. The underlying native addon\n   * does not support asynchronous execution.\n   */\n  public execAsync(module: string, kernel: string): Promise<Calc> {\n    return new Promise((resolve) => {\n      this.exec(\n        module,\n        kernel,\n        true\n      )(this._params, this._result).then(() => {\n        resolve(this);\n      });\n    });\n  }\n\n  private exec(module: string, kernel: string, async = false) {\n    try {\n      const device = getDevice();\n      const m = device.loadModule(module);\n      const fn = m.loadFunction(kernel);\n\n      return (input: Array<CalcElement> | null = null, output: Array<CalcElement> | null = null) => {\n        return fn.execute(\n          (input || []).map((m) => m.getMemory()),\n          (output || []).map((m) => m.getMemory()),\n          async\n        );\n      };\n    } catch (e) {\n      console.error(e);\n      return () => {};\n    }\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcColVector extends CalcElement {\n  constructor(cols = 1) {\n    super(1, cols);\n  }\n\n  public isColVector() {\n    return true;\n  }\n\n  public static fromMemory(memory, cols: number) {\n    const result = new CalcColVector(cols);\n    result._memory = memory;\n    result._allocated = true;\n    return result;\n  }\n}\n","import { getDevice } from \"./Computation\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { Calc } from \"./Calc\";\n\nexport class CalcElement {\n  private _dims: Array<number> = [];\n  protected _allocated = false;\n  protected _memory: any = null;\n\n  constructor(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n  }\n\n  public dims(): Array<number> {\n    return this._dims;\n  }\n\n  public rows(): number {\n    return this._dims[0];\n  }\n\n  public cols(): number {\n    return this._dims[1];\n  }\n\n  public depth(): number {\n    return this._dims[2];\n  }\n\n  public count(): number {\n    const [width, height, depth] = this._dims;\n\n    return width * height * depth;\n  }\n\n  public resize(width = 1, height = 1, depth = 1) {\n    this._dims = [width, height, depth];\n    this.allocate();\n    return this;\n  }\n\n  public allocate() {\n    const device = getDevice();\n    this._memory = device.alloc(this.count());\n    this._memory.setWidth(this.rows());\n    this._memory.setHeight(this.cols());\n    this._memory.setDepth(this.depth());\n    this._allocated = true;\n\n    return this;\n  }\n\n  public set(arr: Array<number>) {\n    this._memory.set(new Float64Array(arr));\n    return this;\n  }\n\n  public get() {\n    return this._memory.get();\n  }\n\n  public isScalar() {\n    return false;\n  }\n\n  public isRowVector() {\n    return false;\n  }\n\n  public isColVector() {\n    return false;\n  }\n\n  public isMatrix2D() {\n    return false;\n  }\n\n  public isMatrix3D() {\n    return false;\n  }\n\n  public setZeros() {\n    this.calcSync((calc) => {\n      calc.setZeros();\n    });\n    return this;\n  }\n\n  public setRandom(number: number) {\n    this.calcSync((calc) => {\n      calc.setRandom(number);\n    });\n    return this;\n  }\n\n  public setMax(number: number) {\n    this.calcSync((calc) => {\n      calc.setMax(number);\n    });\n    return this;\n  }\n\n  public setMin(number: number) {\n    this.calcSync((calc) => {\n      calc.setMin(number);\n    });\n    return this;\n  }\n\n  public reluBackpropagation(number: number) {\n    this.calcSync((calc) => {\n      calc.reluBackpropagation();\n    });\n    return this;\n  }\n  public pow(number: number) {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n  public sum() {\n    return this.calcSync((calc) => {\n      return calc.sum();\n    });\n  }\n  public reluForwardPropagation() {\n    this.calcSync((calc) => {\n      calc.reluForwardPropagation();\n    });\n    return this;\n  }\n\n  private getCalcSandbox(async = false) {\n    const that = this;\n    return {\n      sum: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"algebra\", \"algebra_sum\", async)([that, result])(result);\n      },\n      setZeros: () => {\n        return that._call(\"matrix\", \"matrix_set_zeros\", async)([that])(that);\n      },\n      setRandom: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        return that._call(\"matrix\", \"matrix_set_random\", async)([that, nb])(that);\n      },\n    };\n  }\n\n  protected _call(module: string, kernel: string, async: boolean) {\n    return (params, result) => {\n      const calc = Calc.get().setResult(result).setParams(params);\n      return (result) => {\n        if (async) {\n          return new Promise((resolve) => {\n            calc.execAsync(module, kernel).then(() => {\n              resolve(result);\n            });\n          });\n        } else {\n          calc.execSync(module, kernel);\n          return result;\n        }\n      };\n    };\n  }\n\n  public calcSync(callback) {\n    return callback(this.getCalcSandbox(false));\n  }\n\n  public calcAsync(callback) {\n    return new Promise((resolve, reject) => {\n      try {\n        const result = callback(this.getCalcSandbox(true));\n        resolve(result);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  public getMemory() {\n    return this._memory;\n  }\n\n  [Symbol.dispose]() {\n    this._memory.free();\n  }\n\n  public destroy() {\n    this._memory.free();\n    this._dims = [0, 0, 0];\n    this._allocated = false;\n  }\n\n  public copyFrom(other: CalcElement) {\n    if (!this._allocated) {\n      const device = getDevice();\n      this._memory = device.alloc(other.count());\n      this._allocated = true;\n    }\n    this._memory.setWidth(other.rows());\n    this._memory.setHeight(other.cols());\n    this._memory.setDepth(other.depth());\n    this._memory.copyFrom(other.getMemory());\n    this._dims = other.dims();\n    return this;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcScalar } from \"./CalcScalar\";\n\nexport class CalcMatrix2D extends CalcElement {\n  constructor(rows = 1, cols = 1) {\n    super(rows, cols);\n  }\n\n  public isMatrix2D() {\n    return true;\n  }\n\n  public row(index: Number): CalcMatrix2D {\n    const result = new CalcMatrix2D(1, this.cols()).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_row\",\n      false\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public col(index: Number): CalcMatrix2D {\n    const result = new CalcMatrix2D(this.rows(), 1).allocate();\n    return this._call(\n      \"matrix\",\n      \"matrix_col\",\n      false\n    )([this, new CalcScalar().allocate().set(new Float64Array([index])), result])(result);\n  }\n\n  public maxCoeff(): number {\n    return this.calcSync((calc) => {\n      return calc.maxCoeff();\n    });\n  }\n\n  public dot(m: CalcMatrix2D) {\n    return this.calcSync((calc) => {\n      return calc.dot(m);\n    });\n  }\n\n  public add(m: CalcMatrix2D) {\n    return this.calcSync((calc) => {\n      return calc.add(m);\n    });\n  }\n\n  public replicate(rows: number, cols: number) {\n    return this.calcSync((calc) => {\n      return calc.replicate(rows, cols);\n    });\n  }\n\n  public transpose(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.transpose();\n    });\n  }\n\n  public logisticForwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticForwardPropagation();\n    });\n  }\n\n  public logisticBackwardPropagation(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logisticBackwardPropagation();\n    });\n  }\n\n  public pow(number: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.pow(number);\n    });\n  }\n\n  public log(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.log();\n    });\n  }\n\n  public multiply(number: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.multiply(number);\n    });\n  }\n  public minusOne(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.minusOne();\n    });\n  }\n  public conjugate(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.conjugate();\n    });\n  }\n  public divide(mOrNumber: number | CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.divide(mOrNumber);\n    });\n  }\n  public subtract(m: CalcMatrix2D): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.subtract(m);\n    });\n  }\n  public rowwiseSum(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.rowwiseSum();\n    });\n  }\n  public softmax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmax();\n    });\n  }\n  public fraction(num: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.fraction(num);\n    });\n  }\n  public tanh(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanh();\n    });\n  }\n  public tanhDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.tanhDerivative();\n    });\n  }\n  public logMinusOne(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.logMinusOne();\n    });\n  }\n  public sqrt(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.sqrt();\n    });\n  }\n  public block(offset: number, batch: number, start: number, end: number): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.block(offset, batch, start, end);\n    });\n  }\n  public softmaxDerivative(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.softmaxDerivative();\n    });\n  }\n  public min(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.min();\n    });\n  }\n  public max(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.max();\n    });\n  }\n  public minMax(): CalcMatrix2D {\n    return this.calcSync((calc) => {\n      return calc.minMax();\n    });\n  }\n\n  protected getCalcSandbox(async = false) {\n    const baseSandbox = super.getCalcSandbox(async);\n    const that = this;\n    return {\n      ...baseSandbox,\n      block(offset: number, batch: number, start: number, end: number): CalcMatrix2D {\n        const result = new CalcMatrix2D(end - start, batch).allocate();\n        const _offset = new CalcScalar().allocate().set([offset]);\n        const _batch = new CalcScalar().allocate().set([batch]);\n        const _start = new CalcScalar().allocate().set([start]);\n        const _end = new CalcScalar().allocate().set([end]);\n        return that._call(\"matrix\", \"matrix_block\", async)([that, _offset, _batch, _start, _end, result])(result);\n      },\n      pow: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_pow\", async)([that, new CalcScalar().allocate().set([number]), result])(\n          result\n        );\n      },\n      fraction: (number: number) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\n          \"algebra\",\n          \"algebra_fraction\",\n          async\n        )([that, new CalcScalar().allocate().set([number]), result])(result);\n      },\n      softmax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax\", async)([that, result])(result);\n      },\n      sqrt: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_sqrt\", async)([that, result])(result);\n      },\n      tanh: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh\", async)([that, result])(result);\n      },\n      tanhDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_tanh_derivative\", async)([that, result])(result);\n      },\n      softmaxDerivative: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_softmax_derivative\", async)([that, result])(result);\n      },\n      rowwiseSum: () => {\n        const result = new CalcMatrix2D(this.rows(), 1).allocate();\n        return that._call(\"algebra\", \"algebra_rowwise_sum\", async)([that, result])(result);\n      },\n      multiply: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const _m = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply_number\", async)([that, _m, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_multiply\", async)([that, m, result])(result);\n        }\n      },\n      log: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_log\", async)([that, result])(result);\n      },\n      divide: (mOrNumber: number | CalcMatrix2D) => {\n        if (typeof mOrNumber === \"number\") {\n          const num = new CalcScalar().allocate().set([mOrNumber]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_number\", async)([that, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n          return that._call(\"algebra\", \"algebra_divide_matrix\", async)([that, mOrNumber, result])(result);\n        }\n      },\n      dot: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), m.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_dot\", async)([that, m, result])(result);\n      },\n      add: (m: CalcMatrix2D | number) => {\n        if (typeof m === \"number\") {\n          const num = new CalcScalar().allocate().set([m]);\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_number\", async)([that, num, result])(result);\n        } else {\n          const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n          return that._call(\"algebra\", \"algebra_add_matrix\", async)([that, m, result])(result);\n        }\n      },\n      subtract: (m: CalcMatrix2D) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_subtract\", async)([that, m, result])(result);\n      },\n      transpose: () => {\n        const result = new CalcMatrix2D(this.cols(), this.rows()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"matrix\", \"matrix_transpose\", async)([that, result])(result);\n      },\n      logMinusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_log_minus_one\", async)([that, result])(result);\n      },\n      minusOne: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate(); // Corrected dimensions for dot product result\n        return that._call(\"algebra\", \"algebra_minus_one\", async)([that, result])(result);\n      },\n      replicate: (rows: number, cols: number) => {\n        const _rows = this.rows() * rows;\n        const _cols = this.cols() * cols;\n        const result = new CalcMatrix2D(_rows, _cols).allocate();\n        const __rows = new CalcScalar().allocate().set([rows]);\n        const __cols = new CalcScalar().allocate().set([cols]);\n        return that._call(\"algebra\", \"algebra_replicate_matrix\", async)([that, __rows, __cols, result])(result);\n      },\n      logisticForwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_forward_propagation\", async)([that, result])(result);\n      },\n      conjugate: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_conjugate\", async)([that, result])(result);\n      },\n      logisticBackwardPropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_logistic_backward_propagation\", async)([that, result])(result);\n      },\n      reluBackpropagation: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_reluBackpropagation\", async)([that, result])(result);\n      },\n      maxCoeff: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"algebra\", \"algebra_max_coeff\", async)([that, result])(result);\n      },\n      setMin: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_min\", async)([that, nb, result])(result);\n      },\n      setMax: (number: number) => {\n        const nb = new CalcScalar().allocate().set([number]);\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"matrix\", \"matrix_set_max\", async)([that, nb, result])(result);\n      },\n      min: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_min\", async)([that, result])(result);\n      },\n      max: () => {\n        const result = new CalcScalar().allocate();\n        return that._call(\"matrix\", \"matrix_max\", async)([that, result])(result);\n      },\n      minMax: () => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        return that._call(\"algebra\", \"algebra_min_max\", async)([that, result])(result);\n      },\n      img2col: (filterSize, stride, padding) => {\n        const result = new CalcMatrix2D(this.rows(), this.cols()).allocate();\n        const params = new CalcRowVector(3).allocate().set([filterSize, stride, padding]);\n        return that._call(\"algebra\", \"algebra_img2col\", async)([that, params, result])(result);\n      },\n    };\n  }\n\n  public clone() {\n    const clone = new CalcMatrix2D(this.rows(), this.cols());\n    clone.copyFrom(this);\n    return clone;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcMatrix3D extends CalcElement {\n  constructor(rows = 1, cols = 1, depth = 1) {\n    super(rows, cols, depth);\n  }\n\n  public isMatrix3D() {\n    return true;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\nimport { CalcColVector } from \"./CalcColVector\";\n\nexport class CalcRowVector extends CalcElement {\n  constructor(rows = 1) {\n    super(rows);\n  }\n\n  public isRowVector() {\n    return true;\n  }\n\n  public transpose() {\n    const result = CalcColVector.fromMemory(this.getMemory().clone(), this.rows());\n    return result;\n  }\n}\n","import { CalcElement } from \"./CalcElement\";\n\nexport class CalcScalar extends CalcElement {\n  constructor() {\n    super(1);\n  }\n\n  public isScalar() {\n    return true;\n  }\n}\n","import { setDevice, getDevice } from \"./utils\";\n\nexport { setDevice, getDevice };\n","import nodenative from \"../../../../build/Release/node_native_memory.node\";\n\ntype Device = any;\n\nlet currentDevice: Device = new nodenative.Device.CPU();\n\nexport const setDevice = (device: Device): void => {\n  currentDevice = device;\n};\n\nexport const getDevice = (): Device => {\n  return currentDevice;\n};\n","import { Calc } from \"./Calc\";\nimport { CalcScalar } from \"./CalcScalar\";\nimport { CalcColVector } from \"./CalcColVector\";\nimport { CalcRowVector } from \"./CalcRowVector\";\nimport { CalcMatrix2D } from \"./CalcMatrix2D\";\nimport { CalcMatrix3D } from \"./CalcMatrix3D\";\n\nconst round = (num: number, decimalPlaces: number): number => {\n  return Math.round((num + 2.23e-16) * Math.pow(10, decimalPlaces)) / Math.pow(10, decimalPlaces);\n};\n\nexport { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\nexport default { Calc, CalcScalar, CalcMatrix2D, CalcColVector, CalcRowVector, CalcMatrix3D, round };\n","import { Dimension, Layers } from \"../../types\";\nimport { Network, Networks } from \"../index\";\nimport { BackpropagationFactory } from \"../Layer/Backpropagation/BackpropagationFactory\";\n\nabstract class AbstractNetworkBuilder {\n  protected dimensions: Dimension | null = null;\n  protected lastLayer: Layers | null = null;\n  protected network: Networks | null = null;\n\n  constructor(dimension: Dimension, type = \"DNN\") {\n    this.dimensions = dimension;\n    this.network = new Network(this.dimensions);\n  }\n\n  createLayer(layerClass: Layers, callback: (layer: Layers) => void | null = null): AbstractNetworkBuilder {\n    const layer: Layers = new layerClass();\n\n    if (typeof callback === \"function\") {\n      callback(layer);\n    }\n\n    if (this.lastLayer === null) {\n      this.firstLayerTransition(layer);\n    } else {\n      layer.transition(this.lastLayer);\n    }\n\n    layer.configure();\n    layer.setBackPropagation(BackpropagationFactory.create(this.lastLayer, layer));\n\n    this.network.addLayer(layer);\n    this.lastLayer = layer;\n\n    return this;\n  }\n\n  getNetwork(): Networks | null {\n    return this.network;\n  }\n\n  abstract firstLayerTransition(layer: Layers): void;\n}\n\nexport { AbstractNetworkBuilder };\n","import { AbstractNetworkBuilder } from \"./AbstractNetworkBuilder\";\nimport { Layers } from \"../../types\";\nimport { Network } from \"../index\";\nimport * as fs from \"fs\";\nimport { LogisticLayer, ReluLayer, SoftmaxLayer, TanhLayer } from \"../Layer\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { JSONLayerData } from \"./types\";\n\nclass NetworkBuilder1D extends AbstractNetworkBuilder {\n  firstLayerTransition(layer: Layers): void {\n    layer.setWidth(this.dimensions[0]);\n  }\n\n  static fromJSON(jsonPath: string): Promise<Network> {\n    return new Promise((resolve, reject) => {\n      fs.readFile(jsonPath, (err, data) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        const json = JSON.parse(data.toString());\n\n        const builder = new NetworkBuilder1D(json[\"dimensions\"]);\n\n        json[\"layers\"].forEach((layerData: JSONLayerData) => {\n          let layerClass = null;\n\n          if (layerData[\"type\"] === \"logistic\") {\n            layerClass = LogisticLayer;\n          } else if (layerData[\"type\"] === \"softmax\") {\n            layerClass = SoftmaxLayer;\n          } else if (layerData[\"type\"] === \"relu\") {\n            layerClass = ReluLayer;\n          } else if (layerData[\"type\"] === \"tanh\") {\n            layerClass = TanhLayer;\n          }\n\n          builder.createLayer(layerClass, (layer) => {\n            // @ts-ignore\n            layer.setSize(layerData[\"size\"] as number);\n          });\n        });\n\n        const network = builder.getNetwork();\n\n        network.getLayers().forEach((layer, i) => {\n          layer.W = new CalcMatrix2D(\n            json[\"layers\"][i][\"weights\"][\"W\"].length,\n            json[\"layers\"][i][\"weights\"][\"W\"][0].length,\n            json[\"layers\"][i][\"weights\"][\"W\"]\n          );\n          layer.b = new CalcMatrix2D(\n            json[\"layers\"][i][\"weights\"][\"b\"].length,\n            json[\"layers\"][i][\"weights\"][\"b\"][0].length,\n            json[\"layers\"][i][\"weights\"][\"b\"]\n          );\n        });\n\n        resolve(network);\n      });\n    });\n  }\n}\n\nexport { NetworkBuilder1D };\n","import { AbstractNetworkBuilder } from \"./AbstractNetworkBuilder\";\nimport { NetworkBuilder1D } from \"./NetworkBuilder1D\";\n\nexport { AbstractNetworkBuilder, NetworkBuilder1D };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { Dimension, Layers } from \"../../types\";\nimport { AbstractBackPropagation } from \"./Backpropagation/AbstractBackpropagation\";\n\nabstract class AbstractLayer {\n  protected width = 0;\n  protected height = 0;\n  protected depth = 0;\n  public previousLayer: Layers | null = null;\n  protected backPropagation: AbstractBackPropagation | null = null;\n\n  setBackPropagation(backPropagation: AbstractBackPropagation): Layers {\n    this.backPropagation = backPropagation;\n    return this;\n  }\n\n  getBackPropagation(): AbstractBackPropagation | null {\n    return this.backPropagation;\n  }\n\n  setWidth(value: number): Layers {\n    this.width = value;\n    return this;\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  setHeight(value: number): Layers {\n    this.height = value;\n    return this;\n  }\n\n  getHeight(): number {\n    return this.height;\n  }\n\n  setDepth(value: number): Layers {\n    this.depth = value;\n    return this;\n  }\n\n  getDepth(): number {\n    return this.depth;\n  }\n\n  abstract getOutputWidth(): number;\n\n  abstract getOutputHeight(): number;\n\n  abstract getOutputDepth(): number;\n\n  abstract configure(): void;\n\n  abstract is1D(): boolean;\n\n  abstract is3D(): boolean;\n\n  transition(previousLayer: Layers): Layers {\n    this.previousLayer = previousLayer;\n    return this;\n  }\n\n  abstract getSize(): Dimension | number;\n\n  abstract activation(value: CalcMatrix2D): CalcMatrix2D;\n\n  abstract activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D>;\n\n  abstract getType(): string;\n\n  abstract derivative(delta: CalcMatrix2D): CalcMatrix2D;\n\n  abstract penalty(): number;\n}\n\nexport { AbstractLayer };\n","import { AbstractLayer } from \"./AbstractLayer\";\nimport { Layers } from \"../../types\";\nimport { CalcMatrix2D, CalcScalar } from \"../../Math\";\n\nabstract class AbstractLayer1D extends AbstractLayer {\n  protected depth = 1;\n  public W: CalcMatrix2D;\n  public b: CalcMatrix2D;\n  public A: CalcMatrix2D;\n  public Z: CalcMatrix2D;\n  public gW: CalcMatrix2D;\n  public gb: CalcMatrix2D;\n  public vW: CalcMatrix2D;\n  public sW: CalcMatrix2D;\n  public vb: CalcMatrix2D;\n  public sb: CalcMatrix2D;\n  public dW: CalcMatrix2D;\n  public db: CalcMatrix2D;\n  public dZ: CalcMatrix2D;\n\n  constructor() {\n    super();\n    this.W = new CalcMatrix2D();\n    this.b = new CalcMatrix2D();\n    this.A = new CalcMatrix2D();\n    this.Z = new CalcMatrix2D();\n    this.gW = new CalcMatrix2D();\n    this.gb = new CalcMatrix2D();\n    this.vW = new CalcMatrix2D();\n    this.vb = new CalcMatrix2D();\n    this.sW = new CalcMatrix2D();\n    this.sb = new CalcMatrix2D();\n    this.dW = new CalcMatrix2D();\n    this.db = new CalcMatrix2D();\n  }\n\n  configure(): void {\n    this.W.resize(this.getHeight(), this.getWidth());\n    this.W.setRandom(this.previousLayer ? (this.previousLayer.getHeight() as number) : this.getHeight());\n\n    this.b.resize(this.getHeight(), 1);\n    this.b.setRandom(this.previousLayer ? (this.previousLayer.getHeight() as number) : this.getHeight());\n\n    this.gW.resize(this.getHeight(), this.getWidth());\n    this.gW.setZeros();\n\n    this.gb.resize(this.getHeight(), 1);\n    this.gb.setZeros();\n\n    this.sW.resize(this.getHeight(), this.getWidth());\n    this.sW.setZeros();\n\n    this.sb.resize(this.getHeight(), 1);\n    this.sb.setZeros();\n\n    this.vW.resize(this.getHeight(), this.getWidth());\n    this.vW.setZeros();\n\n    this.vb.resize(this.getHeight(), 1);\n    this.vb.setZeros();\n\n    this.dW.resize(this.getHeight(), this.getWidth());\n    this.dW.setZeros();\n\n    this.db.resize(this.getHeight(), 1);\n    this.db.setZeros();\n  }\n\n  forward(input: CalcMatrix2D): Promise<CalcMatrix2D> {\n    this.Z = this.W.dot(input).add(this.b.replicate(1, input.cols()));\n    this.A = this.activation(this.Z);\n    return this.A;\n  }\n  is1D(): boolean {\n    return true;\n  }\n\n  is3D(): boolean {\n    return false;\n  }\n\n  transition(previousLayer: Layers): AbstractLayer1D {\n    if (previousLayer.is1D()) {\n      this.setWidth(previousLayer.getSize() as number);\n    } else if (previousLayer.is3D()) {\n      this.setWidth(previousLayer.getOutputWidth() * previousLayer.getOutputHeight() * previousLayer.getOutputDepth());\n    }\n\n    super.transition(previousLayer);\n\n    return this;\n  }\n\n  setSize(value: number): AbstractLayer1D {\n    this.setHeight(value as number);\n\n    return this;\n  }\n\n  getSize(): number {\n    return this.height;\n  }\n\n  getOutputWidth(): number {\n    return this.width;\n  }\n\n  getOutputHeight(): number {\n    return this.height;\n  }\n\n  getOutputDepth(): number {\n    return 1;\n  }\n\n  penalty(): CalcScalar {\n    return this.W.pow(2).sum();\n  }\n}\n\nexport { AbstractLayer1D };\n","import { Layers } from \"../../../types\";\nimport { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractBackPropagation {\n  protected layer: Layers | null = null;\n  protected previousLayer: Layers | null = null;\n\n  constructor(layer: Layers | null, previousLayer: Layers) {\n    this.layer = layer;\n    this.previousLayer = previousLayer;\n  }\n\n  abstract propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D,\n    previousSigma: CalcMatrix2D\n  ): CalcMatrix2D;\n}\n","import { AbstractBackPropagation } from \"./AbstractBackpropagation\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { Layers } from \"../../../types\";\n\nexport class Backpropagation1Dto1D extends AbstractBackPropagation {\n  propagate(\n    input: CalcMatrix2D,\n    numberOfExamples: number,\n    regularization: number,\n    layer: Layers,\n    sigma: CalcMatrix2D\n  ): CalcMatrix2D {\n    const previousActivations = this.previousLayer !== null ? this.previousLayer.A : input;\n    const delta = sigma.dot(previousActivations.transpose().conjugate());\n    this.layer.gW = delta.divide(numberOfExamples).add(layer.W.multiply(regularization / numberOfExamples));\n    this.layer.gb = sigma.rowwiseSum().divide(numberOfExamples);\n\n    if (this.previousLayer !== null) {\n      // @ts-ignore\n      const result = this.layer.W.transpose().dot(sigma);\n      if (result.rows() !== previousActivations.rows() || result.cols() !== previousActivations.cols()) {\n        throw new Error(\n          `Dimension error 1. (${result.rows()}, ${result.cols()}) | (${previousActivations.rows()}, ${previousActivations.cols()})`\n        );\n      }\n      if (this.layer.gW.rows() !== this.layer.W.rows() || this.layer.gW.cols() !== this.layer.W.cols()) {\n        throw new Error(\n          `Dimension error 2. (${this.layer.gW.rows()}, ${this.layer.gW.cols()}) | (${this.layer.W.rows()}, ${this.layer.W.cols()})`\n        );\n      }\n      if (this.layer.gb.rows() !== this.layer.b.rows() || this.layer.gb.cols() !== this.layer.b.cols()) {\n        throw new Error(\n          `Dimension error 3. (${this.layer.gb.rows()}, ${this.layer.gb.cols()}) | (${this.layer.b.rows()}, ${this.layer.b.cols()})`\n        );\n      }\n      return result.multiply(this.layer.previousLayer.derivative(this.layer.previousLayer.A));\n    }\n    return new CalcMatrix2D();\n  }\n}\n","import { Layers, LayerType } from \"../../../types\";\nimport { Backpropagation1Dto1D } from \"./Backpropagation1Dto1D\";\nimport { AbstractBackPropagation } from \"./AbstractBackpropagation\";\n\nexport class BackpropagationFactory {\n  static create(previousLayer: Layers, layer: Layers): AbstractBackPropagation | null {\n    if (previousLayer) {\n      if (previousLayer.is1D()) {\n        return new Backpropagation1Dto1D(layer, previousLayer);\n      }\n    }\n    else {\n      if (layer.is1D()) {\n        return new Backpropagation1Dto1D(layer, previousLayer);\n      }\n    }\n\n    return null;\n  }\n}\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass LogisticLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.logisticForwardPropagation();\n  }\n\n  getType(): LayerType {\n    return LayerType.logistic;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    return delta.logisticBackwardPropagation();\n  }\n}\n\nexport { LogisticLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass ReluLayer extends AbstractLayer1D {\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.setMin(0.0);\n  }\n\n  getType(): LayerType {\n    return LayerType.relu;\n  }\n\n  derivative(delta: CalcMatrix2D) {\n    return delta.reluBackpropagation();\n  }\n}\n\nexport { ReluLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass SoftmaxLayer extends AbstractLayer1D {\n  activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D> {\n    throw new Error(\"Method not implemented.\");\n  }\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.softmax();\n  }\n\n  getType(): LayerType {\n    return LayerType.softmax;\n  }\n\n  derivative(delta: CalcMatrix2D): CalcMatrix2D {\n    return delta.softmaxDerivative();\n  }\n}\n\nexport { SoftmaxLayer };\n","import { CalcMatrix2D } from \"../../Math\";\nimport { LayerType } from \"../../types\";\nimport { AbstractLayer1D } from \"./AbstractLayer1D\";\n\nclass TanhLayer extends AbstractLayer1D {\n  activationAsync(value: CalcMatrix2D): Promise<CalcMatrix2D> {\n    throw new Error(\"Method not implemented.\");\n  }\n  activation(m: CalcMatrix2D): CalcMatrix2D {\n    return m.tanh();\n  }\n\n  getType(): LayerType {\n    return LayerType.tanh;\n  }\n\n  derivative(sigma: CalcMatrix2D): CalcMatrix2D {\n    return sigma.tanhDerivative();\n  }\n}\n\nexport { TanhLayer };\n","import { AbstractLayer } from \"./AbstractLayer\";\nimport { SoftmaxLayer } from \"./Softmax\";\nimport { LogisticLayer } from \"./Logistic\";\nimport { TanhLayer } from \"./Tanh\";\nimport { ReluLayer } from \"./Relu\";\n\nexport {\n  AbstractLayer,\n  SoftmaxLayer,\n  LogisticLayer,\n  TanhLayer,\n  ReluLayer,\n};\n","import { Dimension, Layers } from \"../types\";\nimport { CalcMatrix2D } from \"../Math\";\nimport * as fs from \"fs\";\n\nclass Network {\n  private readonly dimensions: Dimension | null = null;\n  private size = 0;\n  private layers: Layers[] = [];\n\n  constructor(dimensions: Dimension) {\n    this.dimensions = dimensions;\n  }\n\n  addLayer(layer: Layers): Network {\n    this.size++;\n    this.layers.push(layer);\n\n    return this;\n  }\n\n  getLayers(): Layers[] {\n    return this.layers;\n  }\n\n  getLastLayer(): Layers {\n    return this.layers[this.layers.length - 1];\n  }\n\n  forward(input: CalcMatrix2D): CalcMatrix2D {\n    let output = input;\n\n    this.layers.forEach((layer: Layers) => {\n      output = layer.forward(output);\n    });\n\n    return output;\n  }\n\n  forwardAsync(input: CalcMatrix2D): Promise<CalcMatrix2D> {\n    return new Promise((resolve) => {\n      let output = input.clone();\n      let l = 0;\n      const next = () => {\n        return this.layers[l].forwardAsync(output).then((out) => {\n          output.destroy();\n          output = out;\n          if (l < this.layers.length - 1) {\n            l++;\n            next();\n          } else {\n            resolve(output);\n          }\n        });\n      };\n\n      next();\n    });\n  }\n\n  backward(X: CalcMatrix2D, regularization: number, sigma: CalcMatrix2D): void {\n    const m = X.cols();\n    let currentSigma = sigma;\n\n    for (let i = this.layers.length - 1; i >= 0; i -= 1) {\n      const layer = this.layers[i];\n      currentSigma = layer.getBackPropagation().propagate(X, m, regularization, layer, currentSigma);\n    }\n  }\n\n  save(path: string): Promise<string> {\n    const resultJSON = {\n      dimensions: this.dimensions,\n      layers: [],\n    };\n\n    this.layers.forEach((layer: Layers) => {\n      resultJSON.layers.push({\n        type: layer.getType(),\n        size: layer.getSize(),\n        weights: {\n          W: layer.W.get(),\n          b: layer.b.get(),\n        },\n      });\n    });\n\n    const result = JSON.stringify(resultJSON);\n\n    return new Promise((resolve, reject) => {\n      fs.writeFile(path, result, (err) => {\n        if (err) {\n          console.error(err);\n          reject();\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n\nexport { Network };\nexport default Network;\n","import { Network } from \"../index\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Dataset } from \"../../Dataset\";\nimport { CalcMatrix2D } from \"../../Math\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport interface CostResult {\n  cost: number;\n  accuracy: number;\n}\n\nexport interface StepCallbackParameters {\n  iteration: number;\n}\n\nexport abstract class AbstractTrainer {\n  network: Network;\n  optimizer: AbstractOptimizer;\n  costFunction: AbstractCost;\n  regularization = 1e-4;\n  iterations = 1000;\n  learningRate = 0.001;\n  verbose = true;\n  verboseStep = 1;\n  stepCallback = (data: StepCallbackParameters): void => undefined;\n\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    this.network = network;\n    this.optimizer = optimizer;\n    this.costFunction = costFunction;\n  }\n\n  abstract train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer;\n\n  setRegularization(regularization: number): AbstractTrainer {\n    this.regularization = regularization;\n    return this;\n  }\n\n  setIterations(iterations: number): AbstractTrainer {\n    this.iterations = iterations;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractTrainer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  setVerbose(verbose: boolean): AbstractTrainer {\n    this.verbose = verbose;\n    return this;\n  }\n\n  setVerboseStep(verboseStep: number): AbstractTrainer {\n    this.verboseStep = verboseStep;\n    return this;\n  }\n\n  setStepCallback(stepCallback: (data: StepCallbackParameters) => void): AbstractTrainer {\n    this.stepCallback = stepCallback;\n    return this;\n  }\n\n  cost(predictions: CalcMatrix2D, correctOutput: CalcMatrix2D): CostResult {\n    const miniBatchSize = correctOutput.cols();\n    const dataLoss = this.costFunction.loss(correctOutput, predictions);\n\n    let regularizationPenalty = 0;\n    this.network.getLayers().forEach((layer) => {\n      regularizationPenalty += layer.penalty().get()[0];\n    });\n    const regularizationLoss = (this.regularization * regularizationPenalty) / (2.0 * miniBatchSize);\n\n    const cost = dataLoss + regularizationLoss;\n\n    let correctPredictions = 0;\n    for (let i = 0; i < miniBatchSize; i += 1) {\n      const predictionIndex = predictions.col(i).maxCoeff();\n      const outputIndex = correctOutput.col(i).maxCoeff();\n\n      if (predictionIndex.get()[0] === outputIndex.get()[0]) {\n        correctPredictions++;\n      }\n    }\n\n    const accuracy = (correctPredictions / miniBatchSize) * 100.0;\n\n    return {\n      cost,\n      accuracy,\n    };\n  }\n}\n","import { AbstractTrainer } from \"./AbstractTrainer\";\nimport { Dataset } from \"../../Dataset\";\nimport { round } from \"../../Math\";\nimport { AbstractOptimizer } from \"./Optimizer/AbstractOptimizer\";\nimport { Network } from \"../index\";\nimport { AbstractCost } from \"./Cost/AbstractCost\";\n\nexport class BatchTrainer extends AbstractTrainer {\n  constructor(network: Network, optimizer: AbstractOptimizer, costFunction: AbstractCost) {\n    super(network, optimizer, costFunction);\n  }\n\n  train(inputDataset: Dataset, outputDataset: Dataset): AbstractTrainer {\n    const numberOfExamples = inputDataset.getNumberOfExamples();\n    const X = inputDataset.data.transpose();\n    const Y = outputDataset.data.transpose();\n\n    let t = 0;\n\n    this.optimizer.setBatchSize(numberOfExamples);\n    this.optimizer.setLearningRate(this.learningRate);\n\n    for (let i = 0; i < this.iterations; i += 1) {\n      const startTime = new Date().getTime();\n\n      const predictions = this.network.forward(X);\n\n      const sigma = this.costFunction.derivative(Y, predictions, this.network.getLastLayer());\n\n      this.network.backward(X, this.regularization, sigma);\n\n      this.optimizer.setT(++t);\n\n      this.network.getLayers().forEach((layer) => {\n        this.optimizer.optimize(layer);\n      });\n\n      if (this.verbose && (i + 1) % this.verboseStep === 0) {\n        const currentResult = this.cost(predictions, Y);\n        const endTime = new Date().getTime();\n\n        console.log(\n          `Iteration: ${i + 1} | Cost: ${round(currentResult.cost, 5)} | Accuracy: ${round(\n            currentResult.accuracy,\n            2\n          )}% | Time: ${(endTime - startTime) / 1000} s.`\n        );\n      }\n\n      this.stepCallback({\n        iteration: i,\n      });\n    }\n\n    return this;\n  }\n}\n","import { CalcMatrix2D } from \"../../../Math\";\n\nexport abstract class AbstractCost {\n  abstract loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number;\n  abstract derivative(\n    correctOutput: CalcMatrix2D,\n    predictions: CalcMatrix2D,\n    activationDerivative: CalcMatrix2D\n  ): CalcMatrix2D;\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { LayerType } from \"../../../types\";\nimport { AbstractLayer } from \"../../Layer/AbstractLayer\";\n\nexport class CrossEntropyCost extends AbstractCost {\n  private readonly epsilon = 1e-8;\n\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    const miniBatchSize = correctOutput.cols();\n    const logPredictions = predictions.add(this.epsilon).log();\n    const cost = correctOutput.multiply(logPredictions).sum().get()[0];\n    return -cost / miniBatchSize;\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    if (lastLayer.getType() === LayerType.softmax) {\n      return predictions.subtract(correctOutput);\n    }\n\n    const denominator = predictions.multiply(predictions.minusOne().multiply(-1)).add(this.epsilon);\n\n    const dA = predictions.subtract(correctOutput).divide(denominator);\n\n    return dA.multiply(lastLayer.derivative(predictions));\n  }\n}\n","import { AbstractCost } from \"./AbstractCost\";\nimport { CalcMatrix2D } from \"../../../Math\";\nimport { AbstractLayer } from \"../../Layer/AbstractLayer\";\n\nexport class MeanSquaredErrorCost extends AbstractCost {\n  loss(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D): number {\n    const miniBatchSize = correctOutput.cols();\n    const error = predictions.subtract(correctOutput);\n    const cost = error.pow(2).sum().get()[0];\n    return cost / (2 * miniBatchSize);\n  }\n\n  derivative(correctOutput: CalcMatrix2D, predictions: CalcMatrix2D, lastLayer: AbstractLayer): CalcMatrix2D {\n    const dA = predictions.subtract(correctOutput);\n    return dA.multiply(lastLayer.derivative(predictions));\n  }\n}\n","import { Layers } from \"../../../types\";\n\nexport abstract class AbstractOptimizer {\n  protected batchSize = 0;\n  protected t = 0;\n  protected learningRate = 0;\n\n  setBatchSize(batchSize: number): AbstractOptimizer {\n    this.batchSize = batchSize;\n    return this;\n  }\n\n  setT(t: number): AbstractOptimizer {\n    this.t = t;\n    return this;\n  }\n\n  setLearningRate(learningRate: number): AbstractOptimizer {\n    this.learningRate = learningRate;\n    return this;\n  }\n\n  abstract optimize(layer: Layers): void;\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerAdagrad extends AbstractOptimizer {\n  private epsilon = 1e-8;\n\n  optimize(layer: Layers): void {\n    this.adagrad(layer, this.learningRate);\n  }\n\n  adagrad(layer: Layers, learningRate: number): void {\n    layer.dW = layer.dW.add(layer.gW.pow(2));\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate).divide(layer.dW.add(this.epsilon).sqrt()));\n\n    layer.db = layer.db.add(layer.gb.pow(2));\n    layer.b = layer.b.subtract(layer.gb.multiply(learningRate).divide(layer.db.add(this.epsilon).sqrt()));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerAdam extends AbstractOptimizer {\n  protected beta1 = 0.9;\n  protected beta2 = 0.999;\n\n  setBeta1(beta1: number): OptimizerAdam {\n    this.beta1 = beta1;\n    return this;\n  }\n\n  setBeta2(beta2: number): OptimizerAdam {\n    this.beta2 = beta2;\n    return this;\n  }\n\n  optimize(layer: Layers): void {\n    this.adam(layer, this.learningRate, this.t);\n  }\n\n  adam(layer: Layers, learningRate: number, t: number): void {\n    layer.vW = layer.vW.multiply(this.beta1).add(layer.gW.multiply(1 - this.beta1));\n    layer.vb = layer.vb.multiply(this.beta1).add(layer.gb.multiply(1 - this.beta1));\n\n    layer.sW = layer.sW.multiply(this.beta2).add(layer.sW.pow(2).multiply(1 - this.beta2));\n    layer.sb = layer.sb.multiply(this.beta2).add(layer.sb.pow(2).multiply(1 - this.beta2));\n\n    const vWCorrected = layer.vW.divide(1 - Math.pow(this.beta1, 2));\n    const vbCorrected = layer.vb.divide(1 - Math.pow(this.beta1, 2));\n\n    const sWCorrected = layer.sW.add(1e-8).sqrt();\n    const sbCorrected = layer.sb.add(1e-8).sqrt();\n\n    layer.W = layer.W.subtract(vWCorrected.divide(sWCorrected).multiply(learningRate));\n    layer.b = layer.b.subtract(vbCorrected.divide(sbCorrected).multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerGradientDescent extends AbstractOptimizer {\n  optimize(layer: Layers): void {\n    this.gradientDescent(layer, this.learningRate);\n  }\n\n  gradientDescent(layer: Layers, learningRate: number): void {\n    layer.W = layer.W.subtract(layer.gW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.b.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerMomentum extends AbstractOptimizer {\n  protected beta = 0.9;\n\n  optimize(layer: Layers): void {\n    this.momentum(layer, this.learningRate);\n  }\n\n  setBeta(beta: number): OptimizerMomentum {\n    this.beta = beta;\n    return this;\n  }\n\n  momentum(layer: Layers, learningRate: number): void {\n    layer.vW = layer.gW.multiply(this.beta).add(layer.gW.multiply(1 - this.beta));\n    layer.vb = layer.gb.multiply(this.beta).add(layer.gb.multiply(1 - this.beta));\n\n    layer.W = layer.W.subtract(layer.vW.multiply(learningRate));\n    layer.b = layer.b.subtract(layer.vb.multiply(learningRate));\n  }\n}\n","import { AbstractOptimizer } from \"./AbstractOptimizer\";\nimport { Layers } from \"../../../types\";\n\nexport class OptimizerRMSProp extends AbstractOptimizer {\n  protected alpha = 1e-3;\n  protected beta = 0.9;\n\n  setBeta(beta: number): OptimizerRMSProp {\n    this.beta = beta;\n    return this;\n  }\n\n  setAlpha(alpha: number): OptimizerRMSProp {\n    this.alpha = alpha;\n    return this;\n  }\n\n  optimize(layer: Layers): void {\n    this.rmsprop(layer, this.learningRate, this.alpha, this.beta);\n  }\n\n  rmsprop(layer: Layers, learningRate: number, alpha: number, beta: number): void {\n    layer.sW = layer.sW.multiply(beta).add(layer.gW.pow(2).multiply(1 - beta));\n    layer.sb = layer.sb.multiply(beta).add(layer.gb.pow(2).multiply(1 - beta));\n\n    layer.W = layer.W.subtract(layer.gW.multiply(alpha).divide(layer.sW.sqrt().add(1e-8)));\n    layer.b = layer.b.subtract(layer.gb.multiply(alpha).divide(layer.sb.sqrt().add(1e-8)));\n  }\n}\n","import { OptimizerAdam } from \"./OptimizerAdam\";\nimport { OptimizerGradientDescent } from \"./OptimizerGradientDescent\";\nimport { OptimizerAdagrad } from \"./OptimizerAdagrad\";\nimport { OptimizerMomentum } from \"./OptimizerMomentum\";\nimport { OptimizerRMSProp } from \"./OptimizerRMSProp\";\n\nexport { OptimizerAdam, OptimizerGradientDescent, OptimizerAdagrad, OptimizerMomentum, OptimizerRMSProp };\n","import { BatchTrainer } from \"./BatchTrainer\";\n\nexport { BatchTrainer };\nexport default { BatchTrainer };","import { Network } from \"./Network\";\n\ntype Networks = Network;\n\nexport { Network, Networks };\n","import { SoftmaxLayer, LogisticLayer, TanhLayer, ReluLayer } from \"./Network/Layer\";\nimport { AbstractLayer1D } from \"./Network/Layer/AbstractLayer1D\";\n\nexport type Dimension = [number] | [number, number, number];\n\nexport enum LayerType {\n  logistic = \"logistic\",\n  softmax = \"softmax\",\n  tanh = \"tanh\",\n  relu = \"relu\",\n  softplus = \"softplus\",\n  conv = \"conv\",\n  lstm = \"lstm\",\n}\n\nexport type Layers =\n  | LogisticLayer\n  | SoftmaxLayer\n  | TanhLayer\n  | ReluLayer\n  | AbstractLayer1D;\nexport type Layers1D = LogisticLayer | SoftmaxLayer | TanhLayer | ReluLayer;\n","module.exports = require(\"csvtojson\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","import Math from \"./Math\";\nimport { NetworkBuilder1D } from \"./Network/Builder\";\nimport {\n  SoftmaxLayer,\n  LogisticLayer,\n  ReluLayer,\n  TanhLayer,\n} from \"./Network/Layer\";\nimport {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n} from \"./Network/Trainer/Optimizer\";\nimport Trainer from \"./Network/Trainer\";\nimport { MeanSquaredErrorCost } from \"./Network/Trainer/Cost/MeanSquaredErrorCost\";\nimport { CrossEntropyCost } from \"./Network/Trainer/Cost/CrossEntropyCost\";\n\nconst NetworkBuilder = { NetworkBuilder1D };\nconst Layer = {\n  SoftmaxLayer,\n  LogisticLayer,\n  ReluLayer,\n  TanhLayer,\n};\nconst Optimizer = {\n  OptimizerAdam,\n  OptimizerGradientDescent,\n  OptimizerAdagrad,\n  OptimizerMomentum,\n  OptimizerRMSProp,\n};\nconst Cost = {\n  MeanSquaredErrorCost,\n  CrossEntropyCost,\n};\n\nimport native from \"../../build/Release/node_native_memory.node\";\nimport path from \"path\";\n\nnative.setModulePath(path.resolve(__dirname, \"../\"));\n\nimport { Dataset as DatasetDataset } from \"./Dataset\";\nimport { DatasetBuilder as DatasetBuilderBuilder, DatasetVocabularyBuilder } from \"./Dataset/Builder\";\nimport { SourceCSV } from \"./Dataset/Builder/Source\";\nimport { TextFile } from \"./Dataset/Builder/VocabularySource\";\n\nimport {\n  CallbackDatasetModifier,\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  CategoryDatasetModifier,\n  SplitDatasetModifier,\n} from \"./Dataset/Modifier\";\n\nconst DatasetBuilder = {\n  DatasetBuilder: DatasetBuilderBuilder,\n  DatasetVocabularyBuilder,\n};\nconst Dataset = {\n  Dataset: DatasetDataset,\n};\nconst DatasetModifier = {\n  CallbackDatasetModifier,\n  MinMaxScalingDatasetModifier,\n  MissingDataDatasetModifier,\n  ShuffleDatasetModifier,\n  CategoryDatasetModifier,\n  SplitDatasetModifier,\n};\nconst DatasetBuilderSource = {\n  DatasetBuilderSourceCSV: SourceCSV,\n  DatasetVocabularyBuilderSourceTextFile: TextFile,\n};\n\nexport {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n};\nexport default {\n  NetworkBuilder,\n  Layer,\n  Optimizer,\n  Trainer,\n  Cost,\n  Math,\n  DatasetBuilder,\n  Dataset,\n  DatasetModifier,\n  DatasetBuilderSource,\n};\n"],"names":["Dataset","DatasetBuilder","_classCallCheck","_createClass","key","value","fromSource","sourcePromise","params","arguments","length","undefined","Promise","resolve","then","source","matrix","parse","numberOfExamples","rows","exampleSize","cols","dataset","DatasetVocabulary","DatasetVocabularyBuilder","str","AbstractSource","CalcMatrix2D","csvtojson","SourceCSV","_AbstractSource","data","_this","_callSuper","_defineProperty","_inherits","_this$data$","_this2","_loop","newData","i","forEach","index","push","Number","concat","_toConsumableArray","allocate","set","Float64Array","fromLocalFile","path","noheader","output","fromFile","arr","AbstractVocabularySource","fs","TextFile","_AbstractVocabularySo","reject","readFile","err","buffer","toString","exampleAt","row","transpose","getNumberOfExamples","getExampleSize","getBatch","offset","batchSize","block","fromMatrix","m","instance","AbstractModifier","CallbackDatasetModifier","_AbstractModifier","CategoryDatasetModifier","columns","apply","size","_dataset","sort","column","_this2$applyForColumn","applyForColumn","_this2$applyForColumn2","_slicedToArray","_size","example","values","filter","self","indexOf","insertColumnAfter","col","oldValue","MinMaxScalingDatasetModifier","minMax","MissingDataDatasetModifier","_len","args","Array","_key","rowsToFill","correctExamplesCount","sum","valueToFill","exampleIndex","isNaN","modificationType","_ref","setModificationType","type","ShuffleDatasetModifier","SplitDatasetModifier","getDevice","Calc","setResult","result","_result","setParams","_params","execSync","module","kernel","exec","execAsync","async","device","loadModule","fn","loadFunction","input","execute","map","getMemory","e","console","error","get","CalcElement","CalcColVector","_CalcElement","isColVector","fromMemory","memory","_memory","_allocated","CalcScalar","width","height","depth","_dims","dims","count","_this$_dims","resize","alloc","setWidth","setHeight","setDepth","isScalar","isRowVector","isMatrix2D","isMatrix3D","setZeros","calcSync","calc","setRandom","number","setMax","setMin","reluBackpropagation","pow","reluForwardPropagation","getCalcSandbox","that","_call","nb","callback","calcAsync","Symbol","dispose","free","destroy","copyFrom","other","CalcRowVector","maxCoeff","dot","add","replicate","logisticForwardPropagation","logisticBackwardPropagation","log","multiply","minusOne","conjugate","divide","mOrNumber","subtract","rowwiseSum","softmax","fraction","num","tanh","tanhDerivative","logMinusOne","sqrt","batch","start","end","softmaxDerivative","min","max","baseSandbox","_superPropGet","_objectSpread","_offset","_batch","_start","_end","_m","_rows","_cols","__rows","__cols","img2col","filterSize","stride","padding","clone","CalcMatrix3D","setDevice","nodenative","currentDevice","Device","CPU","round","decimalPlaces","Math","Network","BackpropagationFactory","AbstractNetworkBuilder","dimension","dimensions","network","createLayer","layerClass","layer","lastLayer","firstLayerTransition","transition","configure","setBackPropagation","create","addLayer","getNetwork","LogisticLayer","ReluLayer","SoftmaxLayer","TanhLayer","NetworkBuilder1D","_AbstractNetworkBuild","fromJSON","jsonPath","json","JSON","builder","layerData","setSize","getLayers","W","b","AbstractLayer","backPropagation","getBackPropagation","getWidth","getHeight","getDepth","previousLayer","AbstractLayer1D","_AbstractLayer","A","Z","gW","gb","vW","vb","sW","sb","dW","db","forward","activation","is1D","is3D","getSize","getOutputWidth","getOutputHeight","getOutputDepth","penalty","AbstractBackPropagation","Backpropagation1Dto1D","_AbstractBackPropagat","propagate","regularization","sigma","previousActivations","delta","Error","derivative","LayerType","_AbstractLayer1D","getType","logistic","relu","activationAsync","layers","getLastLayer","forwardAsync","l","next","out","backward","X","currentSigma","save","resultJSON","weights","stringify","writeFile","AbstractTrainer","optimizer","costFunction","setRegularization","setIterations","iterations","setLearningRate","learningRate","setVerbose","verbose","setVerboseStep","verboseStep","setStepCallback","stepCallback","cost","predictions","correctOutput","miniBatchSize","dataLoss","loss","regularizationPenalty","regularizationLoss","correctPredictions","predictionIndex","outputIndex","accuracy","BatchTrainer","_AbstractTrainer","train","inputDataset","outputDataset","Y","t","setBatchSize","startTime","Date","getTime","setT","optimize","currentResult","endTime","iteration","AbstractCost","CrossEntropyCost","_AbstractCost","logPredictions","epsilon","denominator","dA","MeanSquaredErrorCost","AbstractOptimizer","OptimizerAdagrad","_AbstractOptimizer","adagrad","OptimizerAdam","setBeta1","beta1","setBeta2","beta2","adam","vWCorrected","vbCorrected","sWCorrected","sbCorrected","OptimizerGradientDescent","gradientDescent","OptimizerMomentum","momentum","setBeta","beta","OptimizerRMSProp","setAlpha","alpha","rmsprop","Trainer","NetworkBuilder","Layer","Optimizer","Cost","native","setModulePath","__dirname","DatasetDataset","DatasetBuilderBuilder","DatasetModifier","DatasetBuilderSource","DatasetBuilderSourceCSV","DatasetVocabularyBuilderSourceTextFile"],"sourceRoot":""}